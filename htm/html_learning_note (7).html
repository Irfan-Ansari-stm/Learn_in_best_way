<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3.1 Text Content Elements - Deep Learning Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <style>
    :root {
      --bg-main: #05080f;
      --bg-sidebar: #0b111c;
      --bg-card: #111927;
      --bg-code: #050b12;
      --border-soft: #1e2a38;
      --accent-cyan: #4dd0e1;
      --accent-amber: #ffca28;
      --text-main: #e0e6f0;
      --text-muted: #9aa4b3;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: radial-gradient(circle at top, #07101f 0, #05080f 45%, #020308 100%);
      color: var(--text-main);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      scroll-behavior: smooth;
    }

    body { display: flex; }

    .layout-wrapper {
      display: flex;
      width: 100%;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 320px;
      background: linear-gradient(180deg, #050b16 0, #05080f 40%, #020308 100%);
      border-right: 1px solid var(--border-soft);
      position: fixed;
      top: 0; left: 0; bottom: 0;
      padding: 1.5rem 1.4rem;
      overflow-y: auto;
      z-index: 1000;
    }

    .sidebar::-webkit-scrollbar { width: 6px; }
    .sidebar::-webkit-scrollbar-track { background: #05080f; }
    .sidebar::-webkit-scrollbar-thumb { background: #1f2933; border-radius: 999px; }

    .content {
      margin-left: 320px;
      flex: 1;
      max-width: calc(100% - 320px);
      padding: 1.8rem 2.2rem 2.4rem;
      overflow-y: auto;
    }

    @media (max-width: 992px) {
      .sidebar {
        width: 260px;
        transform: translateX(-100%);
        transition: transform .25s ease-out;
      }
      .sidebar.open { transform: translateX(0); }
      .content {
        margin-left: 0;
        max-width: 100%;
        padding-top: 4.2rem;
      }
      .sidebar-toggle-btn { display: inline-flex !important; }
    }

    .sidebar-toggle-btn {
      position: fixed;
      top: .6rem;
      left: .8rem;
      z-index: 1100;
      display: none;
      border-radius: 999px;
      padding: .25rem .7rem;
      font-size: .8rem;
    }

    .brand-title {
      font-size: 1.2rem;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--text-muted);
    }

    .page-title {
      font-size: 1.3rem;
      margin-top: .4rem;
      color: var(--accent-cyan);
      font-weight: 600;
    }

    .badge-topic {
      display: inline-flex;
      align-items: center;
      gap: .35rem;
      padding: .18rem .55rem;
      border-radius: 999px;
      font-size: .72rem;
      text-transform: uppercase;
      letter-spacing: .09em;
      background: rgba(77, 208, 225, .1);
      border: 1px solid rgba(77, 208, 225, .6);
      color: var(--accent-cyan);
    }

    .badge-topic span { color: var(--accent-amber); }

    .author-block {
      margin-top: 1rem;
      padding: .9rem 1rem;
      border-radius: .8rem;
      background: radial-gradient(circle at top left, rgba(77, 208, 225, .12), transparent 60%);
      border: 1px solid rgba(31, 41, 55, .9);
    }

    .author-name { font-weight: 600; }
    .author-meta { font-size: .78rem; color: var(--text-muted); }

    .section-label {
      text-transform: uppercase;
      letter-spacing: .14em;
      font-size: .7rem;
      color: var(--text-muted);
    }

    .toc-title {
      font-size: .85rem;
      text-transform: uppercase;
      letter-spacing: .16em;
      color: var(--text-muted);
      margin-bottom: .45rem;
    }

    #tocSearch {
      background: #050a12;
      border-color: #1e2936;
      color: var(--text-main);
      font-size: .85rem;
    }
    #tocSearch::placeholder { color: #616b78; }

    #toc { list-style: none; padding-left: 0; margin: 0; }
    #toc li { margin-bottom: .25rem; }

    #toc a {
      display: block;
      padding: .35rem .55rem;
      border-radius: .5rem;
      font-size: .85rem;
      color: var(--text-muted);
      text-decoration: none;
      border: 1px solid transparent;
    }
    #toc a:hover {
      background: rgba(77, 208, 225, .08);
      color: var(--accent-cyan);
      border-color: rgba(77, 208, 225, .4);
    }
    #toc a.active {
      background: rgba(255, 202, 40, .1);
      color: var(--accent-amber);
      border-color: rgba(255, 202, 40, .6);
    }

    .sidebar-tools {
      margin-top: 1rem;
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .btn-pill {
      border-radius: 999px;
      font-size: .75rem;
      padding: .15rem .7rem;
      border-width: 1px;
      display: inline-flex;
      align-items: center;
      gap: .25rem;
    }

    .btn-outline-cyan {
      border-color: rgba(77, 208, 225, .6);
      color: var(--accent-cyan);
      background: transparent;
    }
    .btn-outline-cyan:hover {
      background: rgba(77, 208, 225, .16);
      color: var(--accent-cyan);
    }

    .btn-outline-amber {
      border-color: rgba(255, 202, 40, .7);
      color: var(--accent-amber);
      background: transparent;
    }
    .btn-outline-amber:hover {
      background: rgba(255, 202, 40, .14);
      color: var(--accent-amber);
    }

    .btn-outline-light-soft {
      border-color: #2a3442;
      color: var(--text-muted);
      background: transparent;
    }
    .btn-outline-light-soft:hover {
      background: #101722;
      color: var(--text-main);
    }

    .content-header {
      border-bottom: 1px solid rgba(148, 163, 184, .15);
      padding-bottom: .8rem;
      margin-bottom: 1.6rem;
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .content-header h1 {
      font-size: 1.5rem;
      color: var(--accent-cyan);
      margin: 0;
    }

    .content-subtitle {
      font-size: .9rem;
      color: var(--text-muted);
      max-width: 40rem;
    }

    .difficulty-pill {
      font-size: .78rem;
      padding: .15rem .6rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, .6);
      color: var(--text-muted);
    }

    .section-block {
      margin-bottom: 2rem;
      border-radius: 1rem;
      background: radial-gradient(circle at top left, rgba(77, 208, 225, .09), transparent 55%);
      border: 1px solid rgba(31, 41, 55, .9);
      padding: 1.2rem 1.3rem 1.3rem;
    }

    .section-block.alt {
      background: radial-gradient(circle at top left, rgba(255, 202, 40, .06), transparent 55%);
    }

    .section-block-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: .75rem;
      margin-bottom: .7rem;
    }

    .section-index {
      font-size: .8rem;
      color: var(--accent-amber);
      font-weight: 500;
    }

    .section-title {
      font-size: 1.1rem;
      color: var(--accent-cyan);
      margin: 0;
    }

    .section-meta {
      font-size: .75rem;
      color: var(--text-muted);
    }

    details {
      background: #0a101a;
      border-radius: .8rem;
      margin-top: .7rem;
      margin-bottom: .4rem;
      border: 1px solid #1a2636;
      padding: .4rem .9rem .7rem;
    }

    details[open] {
      border-color: rgba(77, 208, 225, .6);
      background: radial-gradient(circle at top left, rgba(77, 208, 225, .15), #070c14);
    }

    summary {
      cursor: pointer;
      list-style: none;
      position: relative;
      padding-right: 1.4rem;
      font-size: .9rem;
      color: var(--accent-cyan);
      font-weight: 500;
    }

    summary::-webkit-details-marker { display: none; }

    summary::after {
      content: "▸";
      position: absolute;
      right: .1rem;
      top: -.05rem;
      font-size: .8rem;
      color: var(--accent-amber);
      transition: transform .18s ease-out;
    }

    details[open] summary::after { transform: rotate(90deg); }

    details p, details ul, details ol {
      margin-top: .45rem;
      font-size: .9rem;
      color: var(--text-main);
    }

    details ul { padding-left: 1.2rem; }

    pre {
      background: var(--bg-code);
      border-radius: .7rem;
      padding: .75rem .9rem;
      border: 1px solid #1b2838;
      overflow-x: auto;
      font-size: .86rem;
      line-height: 1.5;
      margin-bottom: .4rem;
    }

    pre::-webkit-scrollbar { height: 6px; }
    pre::-webkit-scrollbar-track { background: #05080f; }
    pre::-webkit-scrollbar-thumb { background: #263241; border-radius: 999px; }

    code {
      font-family: "JetBrains Mono", "Fira Code", Menlo, Monaco, Consolas, monospace;
      color: var(--accent-amber);
      white-space: pre;
    }

    .code-caption {
      font-size: .75rem;
      color: var(--text-muted);
      margin-bottom: .2rem;
    }

    /* SAFE syntax highlight – NO HTML TAG WRAPPING */
    .hl-js-keyword { color: #ff8fb7; }
    .hl-js-func    { color: #9ae6ff; }
    .hl-css-prop   { color: #8bd8ff; }
    .hl-css-value  { color: #c5ff8a; }
    .hl-comment    { color: #607089; font-style: italic; }

    .inline-pill {
      display: inline-flex;
      align-items: center;
      gap: .25rem;
      padding: .1rem .45rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, .45);
      font-size: .72rem;
      color: var(--text-muted);
    }

    .callout {
      background: rgba(15, 23, 42, .9);
      border-radius: .75rem;
      padding: .6rem .7rem;
      border: 1px solid #243143;
      font-size: .86rem;
      color: var(--text-muted);
    }

    .callout strong { color: var(--accent-cyan); }
    .text-amber { color: var(--accent-amber); }
    .text-cyan  { color: var(--accent-cyan); }
  </style>
</head>

<body>

<button class="btn btn-dark btn-sm sidebar-toggle-btn" id="sidebarToggle">
  ☰ TOC
</button>

<div class="layout-wrapper">

  <!-- SIDEBAR -->
  <aside class="sidebar" id="sidebar">
    <div class="mb-3">
      <div class="brand-title">Deep Web Foundations</div>
      <div class="page-title">3.1 Text Content Elements</div>
      <div class="mt-1">
        <span class="badge-topic">
          ● HTML Basics
          <span>●</span>
          Text &amp; Structure
        </span>
      </div>
    </div>

    <div class="author-block">
      <div class="author-name">AI Tutor for Irfan</div>
      <div class="author-meta">
        Designed for college to master/PhD-level<br>
        understanding of HTML text semantics.
      </div>
    </div>

    <div class="mt-3">
      <div class="section-label mb-1">Study Controls</div>
      <div class="sidebar-tools">
        <button class="btn btn-outline-cyan btn-pill" id="expandAllBtn">⤢ Expand all</button>
        <button class="btn btn-outline-amber btn-pill" id="collapseAllBtn">⤡ Collapse all</button>
        <button class="btn btn-outline-light-soft btn-pill" id="highlightToggleBtn">✨ Syntax hi-lite</button>
      </div>
    </div>

    <div class="mt-4">
      <div class="toc-title">Table of Contents</div>
      <input
        id="tocSearch"
        type="text"
        class="form-control form-control-sm mb-2"
        placeholder="Filter (headings, paragraphs, pre...)"
      >
      <ul id="toc">
        <li><a href="#sec-overview" data-scroll>0. Overview: text as structure</a></li>
        <li><a href="#sec-headings" data-scroll>1. Headings (&lt;h1&gt;–&lt;h6&gt;)</a></li>
        <li><a href="#sec-paragraphs" data-scroll>2. Paragraphs (&lt;p&gt;)</a></li>
        <li><a href="#sec-br" data-scroll>3. Line breaks (&lt;br&gt;)</a></li>
        <li><a href="#sec-hr" data-scroll>4. Horizontal rules (&lt;hr&gt;)</a></li>
        <li><a href="#sec-pre" data-scroll>5. Preformatted text (&lt;pre&gt;)</a></li>
      </ul>
    </div>

    <div class="mt-4">
      <div class="section-label mb-1">Reading Tip</div>
      <p class="author-meta mb-1">
        Skim executive summaries, then open deep sections while coding examples
        or doing research/assignments.
      </p>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="content">

    <header class="content-header">
      <div>
        <h1>3.1 Text Content Elements</h1>
        <div class="content-subtitle">
          In HTML, text is not just styling; it encodes document structure, hierarchy, and meaning.
          This chapter goes deep into headings, paragraphs, line breaks, horizontal rules, and
          preformatted text, with a mindset suitable from beginner all the way to research-level
          reasoning about document design and semantics.
        </div>
      </div>
      <div class="d-flex flex-column align-items-start gap-1">
        <span class="difficulty-pill">
          Level: Fundamentals → Expert semantics &amp; accessibility
        </span>
        <span class="difficulty-pill">
          Focus: h1–h6, p, br, hr, pre
        </span>
      </div>
    </header>

    <!-- 0. OVERVIEW -->
    <section id="sec-overview" class="section-block alt">
      <div class="section-block-header">
        <div>
          <div class="section-index">0 · Big Picture</div>
          <h2 class="section-title">Text as semantic structure, not just decoration</h2>
        </div>
        <div class="section-meta">
          A heading is more than a big font; a paragraph is more than a line of text.
        </div>
      </div>

      <details>
        <summary>Executive summary</summary>
        <p>
          HTML text elements express <strong>structure and meaning</strong>, not just
          visual appearance:
        </p>
        <ul>
          <li><code>&lt;h1&gt;–&lt;h6&gt;</code> define a hierarchical outline of the document.</li>
          <li><code>&lt;p&gt;</code> wraps logical paragraphs of text.</li>
          <li><code>&lt;br&gt;</code> forces a line break without starting a new paragraph.</li>
          <li><code>&lt;hr&gt;</code> indicates a thematic break between sections.</li>
          <li><code>&lt;pre&gt;</code> preserves whitespace, line breaks, and monospaced layout.</li>
        </ul>
        <p>
          Search engines, screen readers, and many tools read this structure to understand
          what your content means, not just how it looks.
        </p>
      </details>
    </section>

    <!-- 1. HEADINGS -->
    <section id="sec-headings" class="section-block">
      <div class="section-block-header">
        <div>
          <div class="section-index">1 · Headings</div>
          <h2 class="section-title">Headings (&lt;h1&gt; through &lt;h6&gt;)</h2>
        </div>
        <div class="section-meta">
          Building a logical outline for your document.
        </div>
      </div>

      <details>
        <summary>Executive summary</summary>
        <p>
          Headings <code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code> define the
          structure of the document like section titles and subsections in a thesis:
        </p>
        <ul>
          <li><code>&lt;h1&gt;</code> – main title of the page (usually one per page).</li>
          <li><code>&lt;h2&gt;</code> – major sections.</li>
          <li><code>&lt;h3&gt;</code> – subsections inside <code>&lt;h2&gt;</code>.</li>
          <li>… up to <code>&lt;h6&gt;</code> for deep nested headings.</li>
        </ul>
      </details>

      <details>
        <summary>Syntax &amp; examples</summary>
        <p class="code-caption">Basic heading hierarchy</p>
        <pre><code>&lt;h1&gt;Web Development Roadmap&lt;/h1&gt;

&lt;h2&gt;1. HTML Foundations&lt;/h2&gt;
&lt;h3&gt;1.1 Text Elements&lt;/h3&gt;
&lt;h3&gt;1.2 Links &amp; Images&lt;/h3&gt;

&lt;h2&gt;2. CSS Layout&lt;/h2&gt;
&lt;h3&gt;2.1 Flexbox&lt;/h3&gt;
&lt;h3&gt;2.2 Grid&lt;/h3&gt;</code></pre>

        <p>
          This acts like an outline:
        </p>
        <pre><code>H1: Web Development Roadmap
  H2: 1. HTML Foundations
    H3: 1.1 Text Elements
    H3: 1.2 Links &amp; Images
  H2: 2. CSS Layout
    H3: 2.1 Flexbox
    H3: 2.2 Grid</code></pre>
      </details>

      <details>
        <summary>Deep explanation: accessibility &amp; SEO</summary>
        <ul>
          <li>Screen readers allow users to jump between headings quickly.</li>
          <li>Search engines infer document topics from headings.</li>
          <li>Avoid using headings purely for visual size; use CSS for styling.</li>
        </ul>
        <div class="callout">
          <strong>Good practice:</strong> usually one <code>&lt;h1&gt;</code> per page
          representing the main topic, then a clean descending hierarchy.
        </div>
      </details>
    </section>

    <!-- 2. PARAGRAPHS -->
    <section id="sec-paragraphs" class="section-block alt">
      <div class="section-block-header">
        <div>
          <div class="section-index">2 · Paragraphs</div>
          <h2 class="section-title">Paragraphs (&lt;p&gt;)</h2>
        </div>
        <div class="section-meta">
          Grouping sentences into logical blocks of thought.
        </div>
      </div>

      <details>
        <summary>Executive summary</summary>
        <p>
          The <code>&lt;p&gt;</code> element represents a paragraph of text:
          a coherent block of sentences. Browsers automatically add spacing
          above and below each paragraph.
        </p>
      </details>

      <details>
        <summary>Syntax &amp; example</summary>
        <p class="code-caption">Typical usage</p>
        <pre><code>&lt;p&gt;
  HTML paragraphs group related sentences together into a single block.
  They are the fundamental building blocks of continuous text on the web.
&lt;/p&gt;

&lt;p&gt;
  Each new idea or topic usually gets its own paragraph to keep content readable.
&lt;/p&gt;</code></pre>
      </details>

      <details>
        <summary>Common mistakes &amp; best practices</summary>
        <ul>
          <li>Do not wrap headings inside <code>&lt;p&gt;</code>.</li>
          <li>Avoid putting block elements (like <code>&lt;div&gt;</code>) directly inside <code>&lt;p&gt;</code>.</li>
          <li>Use <code>&lt;br&gt;</code> for small line breaks, but use new <code>&lt;p&gt;</code> for new ideas.</li>
        </ul>
      </details>
    </section>

    <!-- 3. LINE BREAKS -->
    <section id="sec-br" class="section-block">
      <div class="section-block-header">
        <div>
          <div class="section-index">3 · Line Breaks</div>
          <h2 class="section-title">Line breaks (&lt;br&gt;)</h2>
        </div>
        <div class="section-meta">
          For minor visual breaks inside a single logical paragraph.
        </div>
      </div>

      <details>
        <summary>Executive summary</summary>
        <p>
          <code>&lt;br&gt;</code> inserts a line break without starting a new paragraph.
          Use it sparingly, mainly for:
        </p>
        <ul>
          <li>Poetry / lyrics.</li>
          <li>Addresses.</li>
          <li>Line-based content where each line is still one unit.</li>
        </ul>
      </details>

      <details>
        <summary>Syntax &amp; example</summary>
        <p class="code-caption">Example: address with &lt;br&gt;</p>
        <pre><code>&lt;p&gt;
  Irfan Khan&lt;br&gt;
  221B Learning Street&lt;br&gt;
  Knowledge City, 123456&lt;br&gt;
&lt;/p&gt;</code></pre>

        <p>
          Note: <code>&lt;br&gt;</code> is a <strong>void element</strong> (no closing tag).
        </p>
      </details>

      <details>
        <summary>Deep explanation &amp; anti-patterns</summary>
        <ul>
          <li>Do not use many <code>&lt;br&gt;</code> tags to create “visual spacing”; use CSS margins instead.</li>
          <li>Overusing line breaks makes content harder to reflow on different screen sizes.</li>
        </ul>
      </details>
    </section>

    <!-- 4. HORIZONTAL RULES -->
    <section id="sec-hr" class="section-block alt">
      <div class="section-block-header">
        <div>
          <div class="section-index">4 · Thematic Break</div>
          <h2 class="section-title">Horizontal rules (&lt;hr&gt;)</h2>
        </div>
        <div class="section-meta">
          Indicating a shift in topic or section.
        </div>
      </div>

      <details>
        <summary>Executive summary</summary>
        <p>
          <code>&lt;hr&gt;</code> represents a <strong>thematic break</strong> between
          paragraphs, such as a scene change, topic shift, or transition.
          Visually it often appears as a horizontal line.
        </p>
      </details>

      <details>
        <summary>Syntax &amp; example</summary>
        <p class="code-caption">Simple usage</p>
        <pre><code>&lt;p&gt;
  This is the introduction to the topic.
&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;
  This is a new section that continues with a slightly different focus.
&lt;/p&gt;</code></pre>

        <p>
          Again, <code>&lt;hr&gt;</code> is a void element (no closing tag).
        </p>
      </details>

      <details>
        <summary>Styling &amp; semantics</summary>
        <p>
          You can style <code>&lt;hr&gt;</code> with CSS (e.g., thinner line,
          dotted, color), but semantically it should still be used only for
          meaningful breaks, not just decoration.
        </p>
        <p class="code-caption">CSS styling example</p>
        <pre><code>hr {
  border: 0;
  height: 1px;
  background: linear-gradient(to right, #4dd0e1, #ffca28);
}</code></pre>
      </details>
    </section>

    <!-- 5. PREFORMATTED TEXT -->
    <section id="sec-pre" class="section-block">
      <div class="section-block-header">
        <div>
          <div class="section-index">5 · Preformatted</div>
          <h2 class="section-title">Preformatted text (&lt;pre&gt;)</h2>
        </div>
        <div class="section-meta">
          Preserving whitespace, line breaks, and monospaced layout.
        </div>
      </div>

      <details>
        <summary>Executive summary</summary>
        <p>
          <code>&lt;pre&gt;</code> tells the browser:
        </p>
        <ul>
          <li>Preserve all spaces and line breaks exactly as written.</li>
          <li>Render text in a monospace font by default.</li>
          <li>Do not collapse whitespace like normal HTML does.</li>
        </ul>
        <p>
          It is ideal for code, ASCII diagrams, logs, and any content where exact formatting matters.
        </p>
      </details>

      <details>
        <summary>Syntax &amp; example</summary>
        <p class="code-caption">Basic &lt;pre&gt; example</p>
        <pre><code>&lt;pre&gt;
Line 1: keeps   extra   spaces
Line 2: &lt;tags&gt; are shown literally if escaped
Line 3:    indentation preserved
&lt;/pre&gt;</code></pre>

        <p>
          Inside <code>&lt;pre&gt;</code>, you still need to use entities like
          <code>&amp;amp;</code>, <code>&amp;lt;</code>, <code>&amp;gt;</code> to represent
          <code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code> so that HTML is not interpreted.
        </p>
      </details>

      <details>
        <summary>Preformatted code blocks (&lt;pre&gt;&lt;code&gt;)</summary>
        <p>
          The common pattern for readable code is a nested pair:
          <code>&lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;/pre&gt;</code>.
        </p>

        <p class="code-caption">Example: code block</p>
        <pre><code>&lt;pre&gt;&lt;code&gt;
&lt;h1&gt;Hello, Irfan&lt;/h1&gt;
&lt;p&gt;This is a clean, readable code block.&lt;/p&gt;
&lt;/code&gt;&lt;/pre&gt;</code></pre>

        <div class="callout">
          <strong>Master-level idea:</strong> &lt;pre&gt; + &lt;code&gt; is not just a visual trick;
          it encodes both “this is preformatted” and “this is code”. Tools like syntax highlighters,
          documentation generators, and screen readers can use this semantics.
        </div>
      </details>
    </section>

  </main>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Sidebar toggle (mobile)
  const sidebar = document.getElementById("sidebar");
  const sidebarToggle = document.getElementById("sidebarToggle");

  sidebarToggle.addEventListener("click", () => {
    sidebar.classList.toggle("open");
  });

  // Smooth scroll for TOC links
  document.querySelectorAll("#toc a[data-scroll]").forEach(link => {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      const targetId = this.getAttribute("href").substring(1);
      const target = document.getElementById(targetId);
      if (target) {
        target.scrollIntoView({ behavior: "smooth", block: "start" });
      }
      document.querySelectorAll("#toc a").forEach(a => a.classList.remove("active"));
      this.classList.add("active");
      if (window.innerWidth <= 992) {
        sidebar.classList.remove("open");
      }
    });
  });

  // Expand / collapse all
  document.getElementById("expandAllBtn").addEventListener("click", () => {
    document.querySelectorAll("details").forEach(d => d.open = true);
  });
  document.getElementById("collapseAllBtn").addEventListener("click", () => {
    document.querySelectorAll("details").forEach(d => d.open = false);
  });

  // TOC search
  const tocSearch = document.getElementById("tocSearch");
  tocSearch.addEventListener("input", function () {
    const term = this.value.trim().toLowerCase();
    document.querySelectorAll("#toc li").forEach(li => {
      const text = li.textContent.toLowerCase();
      li.style.display = text.includes(term) ? "" : "none";
    });
  });

  // ===== SAFE SIMPLE SYNTAX HIGHLIGHT (HTML TAGS NOT TOUCHED) =====
  let highlightEnabled = true;
  const highlightToggleBtn = document.getElementById("highlightToggleBtn");

  // Store original text once
  document.querySelectorAll("pre code").forEach(code => {
    code.dataset.originalText = code.innerHTML;
  });

  function applySimpleHighlighting() {
    document.querySelectorAll("pre code").forEach(code => {
      if (code.dataset.highlighted === "true") return;
      let text = code.dataset.originalText; // use original with entities

      // JS keywords
      text = text.replace(/\b(const|let|var|function|return|if|else|for|while|async|await|class|new|try|catch)\b/g,
        '<span class="hl-js-keyword">$1</span>');

      // JS-like function names foo()
      text = text.replace(/([a-zA-Z_$][a-zA-Z0-9_$]*)\s*(?=\()/g,
        '<span class="hl-js-func">$1</span>');

      // CSS property: value;
      text = text.replace(/([a-zA-Z-]+)\s*:\s*([^;]+);/g,
        '<span class="hl-css-prop">$1</span>: <span class="hl-css-value">$2</span>;');

      // HTML-style comments (but we do NOT touch tags themselves)
      text = text.replace(/(&lt;!--[\s\S]*?--&gt;)/g,
        '<span class="hl-comment">$1</span>');

      code.innerHTML = text;
      code.dataset.highlighted = "true";
    });
  }

  function clearSimpleHighlighting() {
    document.querySelectorAll("pre code").forEach(code => {
      if (code.dataset.originalText) {
        code.innerHTML = code.dataset.originalText;
        code.dataset.highlighted = "false";
      }
    });
  }

  // Initial highlight
  applySimpleHighlighting();

  highlightToggleBtn.addEventListener("click", () => {
    highlightEnabled = !highlightEnabled;
    if (highlightEnabled) {
      applySimpleHighlighting();
      highlightToggleBtn.textContent = "✨ Syntax hi-lite";
    } else {
      clearSimpleHighlighting();
      highlightToggleBtn.textContent = "✖ Plain code";
    }
  });
</script>

</body>
</html>
