<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Module 10: Forms - Advanced Topics - Deep HTML Notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --bg-main: #020617;      /* dark slate */
            --bg-panel: #020617;
            --bg-card: #0b1120;
            --accent-cyan: #06b6d4;
            --accent-amber: #f59e0b;
            --text-main: #e5e7eb;
            --text-muted: #9ca3af;
            --border-subtle: #1f2933;
            --code-bg: #020617;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            background: radial-gradient(circle at top, #0b1120 0, #020617 50%, #000 100%);
            color: var(--text-main);
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        a {
            color: var(--accent-cyan);
            text-decoration: none;
        }

        a:hover {
            color: #22d3ee;
            text-decoration: underline;
        }

        .layout-root {
            min-height: 100vh;
            display: flex;
        }

        /* LEFT SIDEBAR */
        .sidebar {
            width: 320px;
            max-width: 100%;
            background: linear-gradient(180deg, #020617 0, #020617 40%, #020617 100%);
            border-right: 1px solid var(--border-subtle);
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            padding: 1.25rem 1rem 1.5rem;
        }

        .sidebar-header {
            margin-bottom: 1rem;
        }

        .badge-module {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.25rem 0.6rem;
            border-radius: 999px;
            background: rgba(8, 47, 73, 0.9);
            color: var(--accent-cyan);
            font-size: 0.7rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .title-main {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0.5rem 0 0.1rem;
        }

        .title-sub {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 0.25rem;
        }

        .author {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .author span {
            color: var(--accent-amber);
        }

        .toc-panel {
            margin-top: 1rem;
            padding: 0.9rem;
            border-radius: 0.75rem;
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid rgba(15, 23, 42, 1);
        }

        .toc-title {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .toc-search {
            margin-bottom: 0.6rem;
        }

        .toc-search input {
            background: rgba(15, 23, 42, 1);
            border: 1px solid var(--border-subtle);
            color: var(--text-main);
            font-size: 0.8rem;
        }

        .toc-search input:focus {
            border-color: var(--accent-cyan);
            box-shadow: 0 0 0 1px rgba(6, 182, 212, 0.5);
        }

        .toc-actions {
            display: flex;
            gap: 0.4rem;
            margin-bottom: 0.6rem;
        }

        .toc-actions button {
            flex: 1;
            border-radius: 999px;
            border: 1px solid var(--border-subtle);
            background: rgba(15, 23, 42, 1);
            color: var(--text-muted);
            font-size: 0.75rem;
            padding: 0.25rem 0.3rem;
        }

        .toc-actions button:hover {
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
        }

        .toc-list {
            list-style: none;
            padding-left: 0;
            margin: 0;
            font-size: 0.85rem;
        }

        .toc-list li {
            margin-bottom: 0.2rem;
        }

        .toc-list a {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.15rem 0.25rem;
            border-radius: 999px;
            text-decoration: none;
            color: var(--text-main);
        }

        .toc-list a span.toc-index {
            font-size: 0.7rem;
            opacity: 0.7;
        }

        .toc-list a:hover {
            background: rgba(15, 23, 42, 0.9);
            color: var(--accent-cyan);
        }

        .toc-sub {
            padding-left: 1.1rem;
            margin-top: 0.15rem;
        }

        .toc-sub a {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .toc-sub a:hover {
            color: var(--accent-cyan);
        }

        .toc-hidden {
            display: none !important;
        }

        /* RIGHT CONTENT AREA */
        .content {
            flex: 1;
            max-width: calc(100% - 320px);
            height: 100vh;
            overflow-y: auto;
            padding: 1.5rem 1.75rem;
        }

        .content-inner {
            max-width: 1100px;
            margin: 0 auto 3rem;
        }

        .module-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: var(--accent-cyan);
            margin-bottom: 0.25rem;
        }

        .content h1 {
            font-size: 1.6rem;
            margin-bottom: 0.25rem;
        }

        .content-intro {
            font-size: 0.95rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .pill {
            display: inline-flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.3rem;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .pill span {
            padding: 0.1rem 0.5rem;
            border-radius: 999px;
            border: 1px solid rgba(55, 65, 81, 1);
            background: rgba(15, 23, 42, 1);
        }

        .pill span.highlight {
            border-color: var(--accent-amber);
            color: var(--accent-amber);
        }

        hr.section-divider {
            border-color: rgba(31, 41, 55, 1);
            margin: 1.25rem 0;
        }

        section.topic-section {
            margin-bottom: 1.5rem;
            padding: 1.1rem 1.1rem 0.9rem;
            border-radius: 0.85rem;
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(31, 41, 55, 0.9);
        }

        section.topic-section h2 {
            font-size: 1.1rem;
            margin-bottom: 0.15rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5rem;
        }

        section.topic-section h2 span.badge-mini {
            font-size: 0.7rem;
            border-radius: 999px;
            padding: 0.15rem 0.45rem;
            border: 1px solid rgba(55, 65, 81, 1);
            color: var(--accent-cyan);
        }

        section.topic-section > p.lead {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 0.6rem;
        }

        details.ex-block {
            margin-bottom: 0.55rem;
            border-radius: 0.65rem;
            border: 1px solid rgba(31, 41, 55, 1);
            background: rgba(15, 23, 42, 0.9);
        }

        details.ex-block summary {
            cursor: pointer;
            padding: 0.45rem 0.7rem;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            list-style: none;
        }

        details.ex-block[open] summary {
            border-bottom: 1px solid rgba(31, 41, 55, 1);
        }

        details.ex-block summary::-webkit-details-marker {
            display: none;
        }

        details.ex-block summary .label {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
        }

        details.ex-block summary .tag {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--accent-amber);
        }

        details.ex-block summary .hint {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        details.ex-block .inner {
            padding: 0.6rem 0.7rem 0.7rem;
            font-size: 0.87rem;
            color: var(--text-main);
        }

        details.ex-block .inner ul {
            margin-bottom: 0.4rem;
        }

        details.ex-block .inner li {
            margin-bottom: 0.15rem;
        }

        /* CODE BLOCKS */
        pre {
            margin: 0.5rem 0;
            padding: 0.55rem 0.7rem;
            background: var(--code-bg);
            border-radius: 0.6rem;
            border: 1px solid rgba(31, 41, 55, 1);
            font-size: 0.8rem;
            overflow-x: auto;
        }

        pre code {
            font-family: "Fira Code", "JetBrains Mono", Consolas, "Courier New", monospace;
            white-space: pre;
        }

        /* Class added by JS – for styling only, no text changes */
        pre code.code-highlighted {
            line-height: 1.4;
        }

        .code-inline {
            font-family: "Fira Code", Consolas, monospace;
            background: rgba(15, 23, 42, 1);
            border-radius: 999px;
            padding: 0.05rem 0.35rem;
            font-size: 0.8rem;
            border: 1px solid rgba(55, 65, 81, 1);
        }

        .note {
            font-size: 0.8rem;
            color: var(--text-muted);
            border-left: 2px solid var(--accent-cyan);
            padding-left: 0.5rem;
            margin-top: 0.3rem;
        }

        .callout {
            margin-top: 0.4rem;
            padding: 0.5rem 0.65rem;
            border-radius: 0.6rem;
            border: 1px dashed rgba(55, 65, 81, 1);
            font-size: 0.83rem;
            background: rgba(15, 23, 42, 0.9);
        }

        .tag-pill {
            display: inline-block;
            font-size: 0.72rem;
            padding: 0.1rem 0.5rem;
            border-radius: 999px;
            border: 1px solid rgba(55, 65, 81, 1);
            margin-right: 0.25rem;
            margin-bottom: 0.15rem;
        }

        .tag-pill.positive {
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
        }

        .tag-pill.warn {
            border-color: var(--accent-amber);
            color: var(--accent-amber);
        }

        footer.footer-note {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 1.5rem;
            padding-top: 0.7rem;
            border-top: 1px solid rgba(31, 41, 55, 1);
        }

        @media (max-width: 991.98px) {
            .layout-root {
                flex-direction: column;
            }

            .sidebar {
                position: static;
                height: auto;
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-subtle);
            }

            .content {
                max-width: 100%;
                height: auto;
            }
        }
    </style>
</head>

<body>
<div class="layout-root">

    <!-- LEFT SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="badge-module">
                <span>HTML Fundamentals · Module 10</span>
            </div>
            <h2 class="title-main">Forms – Advanced Topics</h2>
            <div class="title-sub">
                Submission, organization, enhancement, and security of real-world forms.
            </div>
            <div class="author">
                Prepared for <span>Irfan</span> · College to M.Tech/MSc level deep notes
            </div>
        </div>

        <div class="toc-panel">
            <div class="toc-title">Table of Contents</div>

            <div class="toc-search">
                <input id="tocSearch" type="text" class="form-control form-control-sm"
                       placeholder="Search (e.g. POST, AJAX, security)…">
            </div>

            <div class="toc-actions">
                <button id="expandAllBtn" type="button">Expand all</button>
                <button id="collapseAllBtn" type="button">Collapse all</button>
            </div>

            <ul class="toc-list" id="tocList">
                <li>
                    <a href="#m10-overview" class="nav-link-section">
                        <span class="toc-index">0</span>
                        <span>Executive overview</span>
                    </a>
                </li>

                <li>
                    <a href="#m10-1" class="nav-link-section">
                        <span class="toc-index">10.1</span>
                        <span>Form Submission & Processing</span>
                    </a>
                    <ul class="toc-sub">
                        <li><a href="#m10-1-get-post" class="nav-link-section">10.1.1 GET vs POST methods</a></li>
                        <li><a href="#m10-1-encoding" class="nav-link-section">10.1.2 Form encoding types</a></li>
                        <li><a href="#m10-1-file-upload" class="nav-link-section">10.1.3 File upload handling</a></li>
                        <li><a href="#m10-1-enhancement" class="nav-link-section">10.1.4 Progressive enhancement</a></li>
                    </ul>
                </li>

                <li>
                    <a href="#m10-2" class="nav-link-section">
                        <span class="toc-index">10.2</span>
                        <span>Fieldsets & Form Organization</span>
                    </a>
                    <ul class="toc-sub">
                        <li><a href="#m10-2-fieldset-legend" class="nav-link-section">10.2.1 &lt;fieldset&gt; &amp; &lt;legend&gt;</a></li>
                        <li><a href="#m10-2-grouping" class="nav-link-section">10.2.2 Grouping related controls</a></li>
                        <li><a href="#m10-2-multistep" class="nav-link-section">10.2.3 Multi-step forms</a></li>
                        <li><a href="#m10-2-accessibility" class="nav-link-section">10.2.4 Form accessibility patterns</a></li>
                    </ul>
                </li>

                <li>
                    <a href="#m10-3" class="nav-link-section">
                        <span class="toc-index">10.3</span>
                        <span>Advanced Form Techniques</span>
                    </a>
                    <ul class="toc-sub">
                        <li><a href="#m10-3-custom-controls" class="nav-link-section">10.3.1 Custom form controls</a></li>
                        <li><a href="#m10-3-js-validation" class="nav-link-section">10.3.2 JS validation integration</a></li>
                        <li><a href="#m10-3-ajax" class="nav-link-section">10.3.3 AJAX form submission prep</a></li>
                        <li><a href="#m10-3-security" class="nav-link-section">10.3.4 Form security considerations</a></li>
                    </ul>
                </li>
            </ul>

            <div class="note mt-2">
                Tip: Use the search box above to quickly find “multipart”, “fieldset”, “AJAX”, or “CSRF”.
            </div>
        </div>
    </aside>

    <!-- RIGHT CONTENT -->
    <main class="content">
        <div class="content-inner">
            <!-- Overview -->
            <div id="m10-overview">
                <div class="module-label">Module 10 · Forms – Advanced Topics</div>
                <h1>From Simple Forms to Robust, Accessible, and Secure Data Flows</h1>

                <p class="content-intro">
                    Basic forms are easy to create, but real applications need more: correct HTTP methods, proper encoding
                    for file uploads, multi-step flows, custom widgets, JavaScript integration, and strong security practices.
                    This module connects your HTML form knowledge to the larger ecosystem of web architecture and UX design.
                </p>

                <div class="pill mb-3">
                    <span class="highlight">Focus: Real-world form architecture and robustness</span>
                    <span>GET vs POST</span>
                    <span>encoding types</span>
                    <span>file uploads</span>
                    <span>progressive enhancement</span>
                    <span>fieldset &amp; legend</span>
                    <span>multi-step flows</span>
                    <span>custom controls</span>
                    <span>JS validation &amp; AJAX</span>
                    <span>security basics (CSRF, XSS)</span>
                </div>

                <details class="ex-block" open>
                    <summary>
                        <div class="label">
                            <span class="tag">Executive</span>
                            Overview of Module 10
                        </div>
                        <span class="hint">High-level structure before code</span>
                    </summary>
                    <div class="inner">
                        <ul>
                            <li><strong>10.1 Form Submission and Processing:</strong>
                                Deepens your understanding of GET vs POST, encoding types (especially multipart/form-data),
                                and how to design forms that gracefully upgrade from HTML-only to JS-enhanced behavior.
                            </li>
                            <li><strong>10.2 Fieldsets and Form Organization:</strong>
                                Explores how &lt;fieldset&gt; and &lt;legend&gt; support semantic grouping, how to structure
                                large forms into logical sections or steps, and how organization improves accessibility.
                            </li>
                            <li><strong>10.3 Advanced Form Techniques:</strong>
                                Covers designing custom input components, integrating HTML5 constraint validation with
                                JavaScript, preparing forms for AJAX submission, and understanding key security considerations
                                such as CSRF, XSS, and basic hardening.
                            </li>
                        </ul>

                        <div class="callout">
                            <strong>Big idea:</strong>
                            An HTML form is not only a UI element. It is the front-end of a complete data pipeline stretching
                            from the user’s browser to your backend and database. Every design choice (methods, fields, grouping,
                            validation, security) affects reliability and user trust.
                        </div>
                    </div>
                </details>
            </div>

            <hr class="section-divider">

            <!-- 10.1 FORM SUBMISSION AND PROCESSING -->
            <section class="topic-section" id="m10-1">
                <h2>
                    10.1 Form Submission and Processing
                    <span class="badge-mini">From browser action to server endpoint</span>
                </h2>

                <p class="lead">
                    When a user presses “Submit”, several things happen: the browser encodes the form data, chooses an HTTP
                    method, and sends a request to the target URL. Understanding this path is essential for designing forms
                    that interact correctly with your backend.
                </p>

                <!-- 10.1.1 GET vs POST -->
                <details class="ex-block" id="m10-1-get-post" open>
                    <summary>
                        <div class="label">
                            <span class="tag">10.1.1</span>
                            GET vs POST methods (deeper view)
                        </div>
                        <span class="hint">Semantics, caching, and idempotence</span>
                    </summary>
                    <div class="inner">
                        <p>
                            You’ve already seen GET and POST at a basic level. Here we emphasize their semantics:
                        </p>

                        <ul>
                            <li><span class="code-inline">GET</span> — used for <strong>safe, idempotent</strong> operations:
                                fetching or filtering data without side effects (no changes to server state).
                            </li>
                            <li><span class="code-inline">POST</span> — used for operations that <strong>create, update,
                                or delete</strong> data, or send sensitive information.
                            </li>
                        </ul>

                        <p>Search form (GET) — parameters appear in the URL, making results linkable/bookmarkable:</p>

                        <pre><code>&lt;form action="/search" method="get"&gt;
    &lt;label for="q"&gt;Search&lt;/label&gt;
    &lt;input type="search" id="q" name="q" placeholder="Search articles..."&gt;
    &lt;button type="submit"&gt;Search&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <p>
                            If the user searches for “forms”, the request might look like:
                        </p>

                        <pre><code>GET /search?q=forms HTTP/1.1</code></pre>

                        <p>Login form (POST) — sensitive data should not be in the URL:</p>

                        <pre><code>&lt;form action="/login" method="post"&gt;
    &lt;label for="email"&gt;Email&lt;/label&gt;
    &lt;input type="email" id="email" name="email" required&gt;

    &lt;label for="password"&gt;Password&lt;/label&gt;
    &lt;input type="password" id="password" name="password" required&gt;

    &lt;button type="submit"&gt;Sign in&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <div class="callout">
                            Design principle: if the action could be safely repeated by clicking refresh or sharing a URL,
                            GET is fine. If it changes something important (e.g., submits a form, places an order),
                            POST (or other non-GET methods) is correct.
                        </div>
                    </div>
                </details>

                <!-- 10.1.2 ENCODING TYPES -->
                <details class="ex-block" id="m10-1-encoding">
                    <summary>
                        <div class="label">
                            <span class="tag">10.1.2</span>
                            Form encoding types
                        </div>
                        <span class="hint">application/x-www-form-urlencoded, multipart/form-data, text/plain</span>
                    </summary>
                    <div class="inner">
                        <p>
                            The <span class="code-inline">enctype</span> attribute on &lt;form&gt; controls how form
                            data is encoded in the HTTP request body. Common values:
                        </p>

                        <ul>
                            <li><span class="code-inline">application/x-www-form-urlencoded</span> (default)</li>
                            <li><span class="code-inline">multipart/form-data</span></li>
                            <li><span class="code-inline">text/plain</span> (rarely used)</li>
                        </ul>

                        <p>Default encoding (no enctype specified):</p>

                        <pre><code>&lt;form action="/submit" method="post"&gt;
    &lt;label for="name"&gt;Name&lt;/label&gt;
    &lt;input type="text" id="name" name="name"&gt;

    &lt;label for="email"&gt;Email&lt;/label&gt;
    &lt;input type="email" id="email" name="email"&gt;

    &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <p>
                            This uses <span class="code-inline">application/x-www-form-urlencoded</span>.
                            Conceptually, the body looks like:
                        </p>

                        <pre><code>name=Irfan&amp;email=irfan%40example.com</code></pre>

                        <p>
                            For file uploads, you must use <span class="code-inline">multipart/form-data</span>:
                        </p>

                        <pre><code>&lt;form
    action="/upload"
    method="post"
    enctype="multipart/form-data"&gt;

    &lt;label for="avatar"&gt;Profile picture&lt;/label&gt;
    &lt;input type="file" id="avatar" name="avatar" accept="image/*"&gt;

    &lt;button type="submit"&gt;Upload&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <div class="note">
                            With <span class="code-inline">multipart/form-data</span>, the browser splits the request body
                            into “parts” separated by boundaries. Each form field (including files) becomes its own part.
                            Server frameworks typically provide helpers to parse these.
                        </div>
                    </div>
                </details>

                <!-- 10.1.3 FILE UPLOAD HANDLING -->
                <details class="ex-block" id="m10-1-file-upload">
                    <summary>
                        <div class="label">
                            <span class="tag">10.1.3</span>
                            File upload handling
                        </div>
                        <span class="hint">Client hints & server processing</span>
                    </summary>
                    <div class="inner">
                        <p>
                            As seen in Module 9, file inputs are declared in HTML, but most of the real work happens on
                            the server. However, you can still help the user from the client side:
                        </p>

                        <ul>
                            <li>Restrict acceptable file types with <span class="code-inline">accept</span>.</li>
                            <li>Use <span class="code-inline">multiple</span> if multiple files are allowed.</li>
                            <li>Optionally use JavaScript to show file name(s) and size before upload.</li>
                        </ul>

                        <pre><code>&lt;form
    action="/assignments/upload"
    method="post"
    enctype="multipart/form-data"&gt;

    &lt;label for="assignment"&gt;Upload assignment (PDF, max 10 MB)&lt;/label&gt;
    &lt;input
        type="file"
        id="assignment"
        name="assignment"
        accept="application/pdf"
        required&gt;

    &lt;button type="submit"&gt;Submit assignment&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <div class="callout">
                            Server-side responsibilities include: verifying MIME type, enforcing size limits, scanning for
                            malware (in high-security contexts), and storing files safely (e.g., not executable directly from web root).
                        </div>
                    </div>
                </details>

                <!-- 10.1.4 PROGRESSIVE ENHANCEMENT -->
                <details class="ex-block" id="m10-1-enhancement">
                    <summary>
                        <div class="label">
                            <span class="tag">10.1.4</span>
                            Progressive enhancement
                        </div>
                        <span class="hint">From basic HTML to rich JS behavior</span>
                    </summary>
                    <div class="inner">
                        <p>
                            Progressive enhancement is a philosophy: start with a fully functional HTML form, then enhance it
                            with JavaScript (AJAX, client-side validation, live previews) without breaking the baseline behavior.
                        </p>

                        <p>
                            Baseline: HTML form that works even if JavaScript is disabled:
                        </p>

                        <pre><code>&lt;form action="/comments" method="post" id="comment-form"&gt;
    &lt;label for="comment"&gt;Comment&lt;/label&gt;
    &lt;textarea id="comment" name="comment" required&gt;&lt;/textarea&gt;

    &lt;button type="submit"&gt;Post comment&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <p>
                            Enhancement idea (conceptual JS, not required to run here):
                        </p>

                        <ul>
                            <li>Intercept submit with JavaScript.</li>
                            <li>Send data via <span class="code-inline">fetch()</span> (AJAX).</li>
                            <li>Update the comment list without reloading the page.</li>
                        </ul>

                        <div class="note">
                            The key rule: if JS fails, the native form submission should still work. This improves reliability,
                            accessibility, and graceful degradation on older devices.
                        </div>
                    </div>
                </details>
            </section>

            <!-- 10.2 FIELDSETS & FORM ORGANIZATION -->
            <section class="topic-section" id="m10-2">
                <h2>
                    10.2 Fieldsets and Form Organization
                    <span class="badge-mini">Structure, clarity, and accessibility</span>
                </h2>

                <p class="lead">
                    As forms grow larger, structure becomes critical. Grouping related fields improves comprehension and
                    reduces cognitive load. HTML offers &lt;fieldset&gt; and &lt;legend&gt; for semantic grouping that
                    benefits all users, especially those using assistive technologies.
                </p>

                <!-- 10.2.1 FIELDSET & LEGEND -->
                <details class="ex-block" id="m10-2-fieldset-legend" open>
                    <summary>
                        <div class="label">
                            <span class="tag">10.2.1</span>
                            &lt;fieldset&gt; and &lt;legend&gt; elements
                        </div>
                        <span class="hint">Semantic grouping wrapper</span>
                    </summary>
                    <div class="inner">
                        <p>
                            &lt;fieldset&gt; groups related controls, and &lt;legend&gt; provides a caption for that group.
                            Screen readers announce these relationships, providing a mental “section” for the user.
                        </p>

                        <pre><code>&lt;form&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Account information&lt;/legend&gt;

        &lt;div&gt;
            &lt;label for="email"&gt;Email&lt;/label&gt;
            &lt;input type="email" id="email" name="email" required&gt;
        &lt;/div&gt;

        &lt;div&gt;
            &lt;label for="password"&gt;Password&lt;/label&gt;
            &lt;input type="password" id="password" name="password" required&gt;
        &lt;/div&gt;
    &lt;/fieldset&gt;

    &lt;fieldset&gt;
        &lt;legend&gt;Profile details&lt;/legend&gt;

        &lt;div&gt;
            &lt;label for="full-name"&gt;Full name&lt;/label&gt;
            &lt;input type="text" id="full-name" name="full_name"&gt;
        &lt;/div&gt;

        &lt;div&gt;
            &lt;label for="bio"&gt;Short bio&lt;/label&gt;
            &lt;textarea id="bio" name="bio"&gt;&lt;/textarea&gt;
        &lt;/div&gt;
    &lt;/fieldset&gt;

    &lt;button type="submit"&gt;Create account&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <div class="note">
                            Visually, you can style &lt;fieldset&gt; and &lt;legend&gt; with CSS (borders, spacing) to match
                            your design. Semantically, they already provide strong structure for assistive technologies.
                        </div>
                    </div>
                </details>

                <!-- 10.2.2 GROUPING RELATED CONTROLS -->
                <details class="ex-block" id="m10-2-grouping">
                    <summary>
                        <div class="label">
                            <span class="tag">10.2.2</span>
                            Grouping related controls
                        </div>
                        <span class="hint">Logical sections and mental models</span>
                    </summary>
                    <div class="inner">
                        <p>
                            Group fields according to how users think about the task, not how the database is structured.
                            Common groupings:
                        </p>

                        <ul>
                            <li>Personal info (name, email, phone).</li>
                            <li>Address section (street, city, postal code, country).</li>
                            <li>Preferences (notifications, themes, options).</li>
                            <li>Payment details (card, billing address, etc.).</li>
                        </ul>

                        <p>Example: checkout form with meaningful sections.</p>

                        <pre><code>&lt;form&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Shipping address&lt;/legend&gt;
        &lt;!-- address fields here --&gt;
    &lt;/fieldset&gt;

    &lt;fieldset&gt;
        &lt;legend&gt;Payment method&lt;/legend&gt;
        &lt;!-- card or UPI fields here --&gt;
    &lt;/fieldset&gt;

    &lt;fieldset&gt;
        &lt;legend&gt;Order options&lt;/legend&gt;
        &lt;!-- gift wrap, delivery instructions, etc. --&gt;
    &lt;/fieldset&gt;

    &lt;button type="submit"&gt;Place order&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <div class="callout">
                            A good heuristic: each group should answer a simple question, like “Who are you?”,
                            “Where should we deliver?”, or “How will you pay?”.
                        </div>
                    </div>
                </details>

                <!-- 10.2.3 MULTI-STEP FORMS -->
                <details class="ex-block" id="m10-2-multistep">
                    <summary>
                        <div class="label">
                            <span class="tag">10.2.3</span>
                            Multi-step forms
                        </div>
                        <span class="hint">Breaking long flows into stages</span>
                    </summary>
                    <div class="inner">
                        <p>
                            For very long forms (job applications, research surveys, onboarding flows), a single page can be
                            overwhelming. Multi-step forms split the process into logical steps.
                        </p>

                        <p>
                            Simple pattern (HTML structure only; step switching typically done with CSS/JS):
                        </p>

                        <pre><code>&lt;form id="wizard-form"&gt;
    &lt;section aria-label="Step 1: Basic information"&gt;
        &lt;h2&gt;Step 1: Basic information&lt;/h2&gt;
        &lt;!-- name, email, etc. --&gt;
    &lt;/section&gt;

    &lt;section aria-label="Step 2: Experience"&gt;
        &lt;h2&gt;Step 2: Experience&lt;/h2&gt;
        &lt;!-- job history, skills, etc. --&gt;
    &lt;/section&gt;

    &lt;section aria-label="Step 3: Review &amp; submit"&gt;
        &lt;h2&gt;Step 3: Review &amp; submit&lt;/h2&gt;
        &lt;!-- summary of answers, final submit button --&gt;
    &lt;/section&gt;
&lt;/form&gt;</code></pre>

                        <p>
                            With JavaScript, you can show one section at a time and track progress visually (e.g., step indicators).
                        </p>

                        <div class="note">
                            Important: ensure that users can navigate backward to previous steps and review or correct their input.
                            Multi-step forms should reduce cognitive load, not trap users.
                        </div>
                    </div>
                </details>

                <!-- 10.2.4 FORM ACCESSIBILITY PATTERNS -->
                <details class="ex-block" id="m10-2-accessibility">
                    <summary>
                        <div class="label">
                            <span class="tag">10.2.4</span>
                            Form accessibility patterns
                        </div>
                        <span class="hint">Labels, focus order, and error navigation</span>
                    </summary>
                    <div class="inner">
                        <p>
                            Organizational patterns directly impact accessibility. Key practices:
                        </p>

                        <ul>
                            <li>Logical tab order (match visual and DOM order).</li>
                            <li>Consistent use of &lt;label for="... "&gt; associations.</li>
                            <li>Grouping using &lt;fieldset&gt; and &lt;legend&gt; for related questions.</li>
                            <li>Clear and accessible error messages (linked via <span class="code-inline">aria-describedby</span>).</li>
                        </ul>

                        <p>Example: error message linked to input for screen readers:</p>

                        <pre><code>&lt;div&gt;
    &lt;label for="email-accessible"&gt;Email&lt;/label&gt;
    &lt;input
        type="email"
        id="email-accessible"
        name="email"
        aria-describedby="email-error"
        required&gt;
    &lt;p id="email-error" class="error-message"&gt;
        Please enter a valid email address.
    &lt;/p&gt;
&lt;/div&gt;</code></pre>

                        <div class="callout">
                            Accessibility is not just a “nice extra” — in many countries it is also a legal requirement.
                            Even beyond law, accessible forms are simply better forms for everyone.
                        </div>
                    </div>
                </details>
            </section>

            <!-- 10.3 ADVANCED FORM TECHNIQUES -->
            <section class="topic-section" id="m10-3">
                <h2>
                    10.3 Advanced Form Techniques
                    <span class="badge-mini">Custom UI, JS integration, and security</span>
                </h2>

                <p class="lead">
                    Modern web applications often extend basic HTML forms with custom controls, sophisticated validation,
                    and AJAX submission. At the same time, security becomes critical: forms are a major attack surface.
                </p>

                <!-- 10.3.1 CUSTOM FORM CONTROLS -->
                <details class="ex-block" id="m10-3-custom-controls" open>
                    <summary>
                        <div class="label">
                            <span class="tag">10.3.1</span>
                            Custom form controls
                        </div>
                        <span class="hint">Styled selects, toggles, and sliders</span>
                    </summary>
                    <div class="inner">
                        <p>
                            Sometimes native controls are not sufficient for your design system or UX requirements. Custom
                            controls are UI components that visually replace or wrap native inputs but still leverage native
                            semantics where possible.
                        </p>

                        <p>Example: custom-styled checkbox concept (HTML skeleton):</p>

                        <pre><code>&lt;label class="custom-checkbox"&gt;
    &lt;input
        type="checkbox"
        name="agree"
        value="yes"
        required&gt;
    &lt;span class="checkbox-visual"&gt;&lt;/span&gt;
    &lt;span class="checkbox-label-text"&gt;
        I agree to the terms and conditions.
    &lt;/span&gt;
&lt;/label&gt;</code></pre>

                        <p>Conceptual CSS idea (visual only):</p>

                        <pre><code>.custom-checkbox input[type="checkbox"] {
    /* Visually hide but keep accessible */
    position: absolute;
    opacity: 0;
}

.custom-checkbox .checkbox-visual {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    border-radius: 0.25rem;
    border: 1px solid #4b5563;
}

/* When checked, style the visual box */
.custom-checkbox input[type="checkbox"]:checked + .checkbox-visual {
    border-color: #06b6d4;
    background-color: #06b6d4;
}</code></pre>

                        <div class="note">
                            The key pattern: keep the real &lt;input&gt; in the DOM for semantics and accessibility,
                            but hide it visually and sync its state to a styled companion element.
                        </div>
                    </div>
                </details>

                <!-- 10.3.2 JS VALIDATION INTEGRATION -->
                <details class="ex-block" id="m10-3-js-validation">
                    <summary>
                        <div class="label">
                            <span class="tag">10.3.2</span>
                            Form validation JavaScript integration
                        </div>
                        <span class="hint">Combining HTML5 constraints with JS logic</span>
                    </summary>
                    <div class="inner">
                        <p>
                            JavaScript validation should usually build on top of HTML5 constraint validation rather than
                            re-implementing it from scratch. Typical pattern:
                        </p>

                        <ol>
                            <li>Use HTML attributes (<span class="code-inline">required</span>, <span class="code-inline">type</span>,
                                <span class="code-inline">min</span>, <span class="code-inline">pattern</span>) for basic rules.</li>
                            <li>Use JavaScript for complex or cross-field rules (e.g., password confirmation, conditional fields).</li>
                            <li>Use <span class="code-inline">setCustomValidity</span> and <span class="code-inline">reportValidity</span>
                                to show messages.</li>
                        </ol>

                        <p>Conceptual example for a “min age” rule:</p>

                        <pre><code>&lt;form id="age-form"&gt;
    &lt;label for="age-input"&gt;Age&lt;/label&gt;
    &lt;input
        type="number"
        id="age-input"
        name="age"
        min="0"
        required&gt;

    &lt;button type="submit"&gt;Continue&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
document.getElementById("age-form").addEventListener("submit", function (event) {
    const ageInput = document.getElementById("age-input");

    // Reset any custom error
    ageInput.setCustomValidity("");

    const value = Number(ageInput.value);
    if (!Number.isNaN(value) &amp;&amp; value &lt; 18) {
        ageInput.setCustomValidity("You must be at least 18 years old.");
        event.preventDefault();
        ageInput.reportValidity();
    }
});
&lt;/script&gt;</code></pre>

                        <div class="callout">
                            Principle: client-side validation improves UX (fast feedback), but server-side validation
                            remains the ultimate gatekeeper for security and data integrity.
                        </div>
                    </div>
                </details>

                <!-- 10.3.3 AJAX SUBMISSION PREP -->
                <details class="ex-block" id="m10-3-ajax">
                    <summary>
                        <div class="label">
                            <span class="tag">10.3.3</span>
                            AJAX form submission preparation
                        </div>
                        <span class="hint">Turning forms into JSON or FormData</span>
                    </summary>
                    <div class="inner">
                        <p>
                            AJAX (Asynchronous JavaScript and XML, though nowadays typically JSON) lets you submit form data
                            without a full page reload. The essential steps:
                        </p>

                        <ol>
                            <li>Prevent the default submit behavior.</li>
                            <li>Collect form data (using <span class="code-inline">FormData</span> or manual serialization).</li>
                            <li>Send a request via <span class="code-inline">fetch()</span> or a library (Axios, etc.).</li>
                            <li>Handle success/error responses by updating the UI.</li>
                        </ol>

                        <p>Conceptual skeleton (no backend required to understand the pattern):</p>

                        <pre><code>&lt;form id="ajax-contact"&gt;
    &lt;label for="ajax-name"&gt;Name&lt;/label&gt;
    &lt;input type="text" id="ajax-name" name="name" required&gt;

    &lt;label for="ajax-message"&gt;Message&lt;/label&gt;
    &lt;textarea id="ajax-message" name="message" required&gt;&lt;/textarea&gt;

    &lt;button type="submit"&gt;Send&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
document.getElementById("ajax-contact").addEventListener("submit", function (event) {
    event.preventDefault(); // do not perform normal submission

    const form = event.target;
    const formData = new FormData(form);

    fetch("/contact", {
        method: "POST",
        body: formData
    }).then(function (response) {
        if (response.ok) {
            // Show success message, clear form, etc.
        } else {
            // Show error message
        }
    }).catch(function () {
        // Network error handling
    });
});
&lt;/script&gt;</code></pre>

                        <div class="note">
                            Even with AJAX, keep the server route compatible with normal HTML form submissions when possible.
                            This preserves progressive enhancement and simplifies testing.
                        </div>
                    </div>
                </details>

                <!-- 10.3.4 FORM SECURITY CONSIDERATIONS -->
                <details class="ex-block" id="m10-3-security">
                    <summary>
                        <div class="label">
                            <span class="tag">10.3.4</span>
                            Form security considerations
                        </div>
                        <span class="hint">CSRF, XSS, and basic hygiene</span>
                    </summary>
                    <div class="inner">
                        <p>
                            Forms are a primary entry point for untrusted data, which makes them a common vector for attacks.
                            At a high level, you should be aware of:
                        </p>

                        <ul>
                            <li><strong>CSRF (Cross-Site Request Forgery):</strong>
                                An attacker tricks a logged-in user’s browser into submitting a form to your site on their behalf.</li>
                            <li><strong>XSS (Cross-Site Scripting):</strong>
                                Attacker injects malicious scripts via form inputs that later get rendered unsafely.</li>
                            <li><strong>Injection attacks:</strong>
                                E.g., SQL injection if server code concatenates raw input into queries.</li>
                        </ul>

                        <p>Common defenses (simplified view):</p>

                        <ul>
                            <li><strong>CSRF tokens:</strong> server generates a secret token stored in the user’s session,
                                included as a hidden field in forms; the server verifies it on submission.</li>
                            <li><strong>Input validation and output encoding:</strong> validate and sanitize incoming data;
                                encode output appropriately (HTML, URL, JS context, etc.).</li>
                            <li><strong>Parameterized queries:</strong> use prepared statements for database access.</li>
                        </ul>

                        <p>Conceptual CSRF token field in HTML:</p>

                        <pre><code>&lt;form action="/profile" method="post"&gt;
    &lt;input
        type="hidden"
        name="csrf_token"
        value="&lt;!-- server-generated token here --&gt;"&gt;

    &lt;!-- other profile fields --&gt;

    &lt;button type="submit"&gt;Save changes&lt;/button&gt;
&lt;/form&gt;</code></pre>

                        <div class="callout">
                            From the front-end perspective, your responsibility is to ensure that all user inputs are clearly
                            labeled, sent through secure channels (HTTPS), and integrated properly with backend validation and
                            security checks. Security is a full-stack concern, not only an HTML issue.
                        </div>
                    </div>
                </details>
            </section>

            <footer class="footer-note">
                <strong>Practice suggestions for Module 10:</strong>
                <ul>
                    <li>Take an existing simple form and redesign it with appropriate GET/POST methods and encodings.</li>
                    <li>Add &lt;fieldset&gt; and &lt;legend&gt; to a long form and observe how it improves readability.</li>
                    <li>Implement a small multi-step form (even if the “steps” are just hidden/shown sections with CSS/JS).</li>
                    <li>Write JavaScript that uses HTML5 validation plus one custom cross-field rule (e.g., date range, password confirmation).</li>
                    <li>Research how your chosen backend framework handles CSRF tokens and file uploads, and connect it mentally to the HTML forms you write.</li>
                </ul>
            </footer>
        </div>
    </main>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // 1. Smooth scrolling for TOC links
        document.querySelectorAll(".nav-link-section").forEach(function (link) {
            link.addEventListener("click", function (e) {
                const href = link.getAttribute("href");
                if (!href || !href.startsWith("#")) return;
                e.preventDefault();
                const target = document.querySelector(href);
                if (target) {
                    target.scrollIntoView({behavior: "smooth", block: "start"});
                    history.replaceState(null, "", href);
                }
            });
        });

        // 2. Expand / Collapse all <details>
        const expandBtn = document.getElementById("expandAllBtn");
        const collapseBtn = document.getElementById("collapseAllBtn");

        expandBtn.addEventListener("click", function () {
            document.querySelectorAll("details.ex-block").forEach(function (d) {
                d.open = true;
            });
        });

        collapseBtn.addEventListener("click", function () {
            document.querySelectorAll("details.ex-block").forEach(function (d) {
                d.open = false;
            });
        });

        // 3. TOC search filter
        const tocSearch = document.getElementById("tocSearch");
        const tocList = document.getElementById("tocList");

        tocSearch.addEventListener("input", function () {
            const query = tocSearch.value.trim().toLowerCase();
            const items = tocList.querySelectorAll("li");

            items.forEach(function (li) {
                const text = li.textContent.trim().toLowerCase();
                if (!query) {
                    li.classList.remove("toc-hidden");
                } else {
                    if (text.includes(query)) {
                        li.classList.remove("toc-hidden");
                    } else {
                        li.classList.add("toc-hidden");
                    }
                }
            });
        });

        // 4. Safe "syntax highlighting": just add a class to <pre><code>
        //    IMPORTANT: we do NOT modify the text inside code blocks.
        document.querySelectorAll("pre code").forEach(function (codeBlock) {
            codeBlock.classList.add("code-highlighted");
        });
    });
</script>
</body>
</html>
