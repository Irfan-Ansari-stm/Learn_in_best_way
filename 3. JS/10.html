```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5.3 Return Values and Side Effects</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <style>
        :root {
            --bg-dark: #0a192f;
            --cyan: #00f5ff;
            --amber: #ffb74d;
            --text-light: #e6f1ff;
            --accent: #00f5ff;
            --card-bg: #112240;
            --border-color: #007a99;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }

        .left-panel {
            position: fixed;
            width: 300px;
            height: 100vh;
            overflow-y: auto;
            padding: 20px;
            background-color: var(--card-bg);
            border-right: 1px solid var(--border-color);
            box-shadow: 2px 0 10px rgba(0, 245, 255, 0.1);
        }

        .right-panel {
            margin-left: 300px;
            padding: 30px;
            max-height: 100vh;
            overflow-y: auto;
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--cyan);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
            margin-top: 30px;
        }

        h1 {
            font-size: 2.5rem;
            color: var(--amber);
        }

        .toc-item {
            margin: 8px 0;
            padding-left: 15px;
            transition: all 0.3s ease;
        }

        .toc-item a {
            color: var(--cyan);
            text-decoration: none;
            display: block;
            font-size: 0.95rem;
            transition: color 0.2s;
        }

        .toc-item a:hover {
            color: var(--amber);
            padding-left: 20px;
        }

        .toc-subitem {
            margin-left: 20px;
            font-size: 0.9rem;
            color: #b0c4de;
        }

        details {
            margin: 15px 0;
            border-left: 3px solid var(--amber);
            padding-left: 15px;
            background-color: rgba(17, 34, 64, 0.5);
            border-radius: 0 5px 5px 0;
        }

        summary {
            cursor: pointer;
            font-weight: bold;
            color: var(--amber);
            list-style: none;
            padding: 10px;
            background-color: rgba(0, 245, 255, 0.08);
            border-radius: 5px;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        summary::before {
            content: "‚ñ∂";
            margin-right: 10px;
            font-size: 0.8rem;
            transition: transform 0.3s;
        }

        details[open] summary::before {
            transform: rotate(90deg);
        }

        pre code {
            display: block;
            padding: 15px;
            background-color: #0d1b2a;
            color: var(--cyan);
            border-radius: 5px;
            overflow-x: auto;
            font-size: 0.9rem;
            border-left: 3px solid var(--amber);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .highlight {
            background-color: rgba(255, 183, 77, 0.2);
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: 500;
        }

        .btn-control {
            margin-bottom: 20px;
            background-color: rgba(0, 245, 255, 0.1);
            border: 1px solid var(--amber);
            color: var(--amber);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .btn-control:hover {
            background-color: var(--amber);
            color: #0a192f;
            transform: translateY(-2px);
        }

        .formula {
            background-color: rgba(0, 245, 255, 0.1);
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 3px solid var(--cyan);
            font-family: 'Courier New', Courier, monospace;
            font-size: 1.1rem;
        }

        .definition {
            color: var(--amber);
            font-weight: bold;
            margin-bottom: 8px;
        }

        .use-case {
            color: var(--cyan);
            font-weight: 500;
            margin-top: 10px;
        }

        .code-comment {
            color: #7f8c8d;
        }

        .badge {
            background-color: var(--amber);
            color: #0a192f;
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 12px;
            margin-left: 8px;
        }

        @media (max-width: 991px) {
            .left-panel {
                position: relative;
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
            .right-panel {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>

<div class="container-fluid p-0">
    <div class="row g-0">
        <!-- Left Panel -->
        <div class="col-md-3 left-panel">
            <h2>5.3 Return Values & Side Effects</h2>
            <p class="text-muted small">Mastering Function Behavior in Programming</p>
            <p class="text-secondary small">Author: AI Tutor ‚Ä¢ Updated: 2024</p>

            <div class="mb-3 d-flex gap-2">
                <button id="expandAll" class="btn btn-control">Expand All</button>
                <button id="collapseAll" class="btn btn-control">Collapse All</button>
            </div>

            <div class="search-box mb-4">
                <input type="text" id="searchToc" class="form-control bg-dark border-cyan" placeholder="Search topics..." style="color: var(--cyan); background-color: #112240; border-color: var(--amber);">
            </div>

            <h5 class="text-uppercase text-muted fw-bold mb-3">Table of Contents</h5>
            <ul class="list-unstyled">
                <li class="toc-item">
                    <a href="#return-statements">Return Statements</a>
                    <ul class="list-unstyled">
                        <li class="toc-subitem"><a href="#return-definition">Definition</a></li>
                        <li class="toc-subitem"><a href="#return-detail">Detail</a></li>
                        <li class="toc-subitem"><a href="#return-syntax">Syntax</a></li>
                        <li class="toc-subitem"><a href="#return-example">Example</a></li>
                        <li class="toc-subitem"><a href="#return-uses">Uses</a></li>
                    </ul>
                </li>
                <li class="toc-item">
                    <a href="#multiple-return-points">Multiple Return Points</a>
                    <ul class="list-unstyled">
                        <li class="toc-subitem"><a href="#multi-definition">Definition</a></li>
                        <li class="toc-subitem"><a href="#multi-detail">Detail</a></li>
                        <li class="toc-subitem"><a href="#multi-syntax">Syntax</a></li>
                        <li class="toc-subitem"><a href="#multi-example">Example</a></li>
                        <li class="toc-subitem"><a href="#multi-uses">Uses</a></li>
                    </ul>
                </li>
                <li class="toc-item">
                    <a href="#no-explicit-return">Functions Without Explicit Returns</a>
                    <ul class="list-unstyled">
                        <li class="toc-subitem"><a href="#no-definition">Definition</a></li>
                        <li class="toc-subitem"><a href="#no-detail">Detail</a></li>
                        <li class="toc-subitem"><a href="#no-example">Example</a></li>
                        <li class="toc-subitem"><a href="#no-uses">Uses</a></li>
                    </ul>
                </li>
                <li class="toc-item">
                    <a href="#side-effects">Side Effects vs Pure Functions</a>
                    <ul class="list-unstyled">
                        <li class="toc-subitem"><a href="#side-definition">Definition</a></li>
                        <li class="toc-subitem"><a href="#side-detail">Detail</a></li>
                        <li class="toc-subitem"><a href="#side-syntax">Syntax</a></li>
                        <li class="toc-subitem"><a href="#side-example">Example</a></li>
                        <li class="toc-subitem"><a href="#side-uses">Uses</a></li>
                    </ul>
                </li>
                <li class="toc-item">
                    <a href="#function-composition">Function Composition Basics</a>
                    <ul class="list-unstyled">
                        <li class="toc-subitem"><a href="#comp-definition">Definition</a></li>
                        <li class="toc-subitem"><a href="#comp-detail">Detail</a></li>
                        <li class="toc-subitem"><a href="#comp-syntax">Syntax</a></li>
                        <li class="toc-subitem"><a href="#comp-example">Example</a></li>
                        <li class="toc-subitem"><a href="#comp-uses">Uses</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <!-- Right Panel -->
        <div class="col-md-9 right-panel">
            <section id="return-statements">
                <details>
                    <summary>Return Statements</summary>
                    <div class="definition">Definition:</div>
                    <p>A <span class="highlight">return statement</span> terminates the execution of a function and sends a value back to the caller. It is the primary mechanism for functions to communicate results.</p>

                    <div class="detail">Detail:</div>
                    <p>When a return statement executes, control immediately exits the function, and any code after it is skipped. The returned value can be used in expressions, assigned to variables, or passed as arguments to other functions. If no value is explicitly returned, most languages return a default value like <code>null</code>, <code>undefined</code>, or <code>None</code>.</p>

                    <div class="syntax">Syntax:</div>
                    <pre><code>return [expression];</code></pre>
                    <p>Where <code>expression</code> is optional. If omitted, returns an implicit null/undefined value.</p>

                    <div class="example">Example:</div>
                    <pre><code class="language-python">def calculate_area(radius):
    if radius &lt; 0:
        return 0  # Early exit on invalid input
    return 3.14159 * radius * radius

area = calculate_area(5)
print(area)  # Output: 78.53975</code></pre>

                    <div class="use-case">Uses:</div>
                    <ul>
                        <li>Provide computed results to calling code</li>
                        <li>Signal success/failure (e.g., return <code>-1</code> for error)</li>
                        <li>Implement early exits to avoid deep nesting</li>
                        <li>Enable functional chaining and composition</li>
                    </ul>
                </details>
            </section>

            <section id="multiple-return-points">
                <details>
                    <summary>Multiple Return Points</summary>
                    <div class="definition">Definition:</div>
                    <p>A function with <span class="highlight">multiple return points</span> has two or more <code>return</code> statements at different locations in its body.</p>

                    <div class="detail">Detail:</div>
                    <p>This pattern allows functions to exit early based on conditions, improving readability by avoiding deeply nested <code>if-else</code> structures. Each return point handles a specific case, making the logic flow clearer. Contrary to old-school dogma, multiple returns are often preferred because they reduce cognitive load ‚Äî you don't need to track the variable state through complex branches.</p>

                    <div class="syntax">Syntax:</div>
                    <pre><code>function example(x):
    if condition1:
        return result1
    if condition2:
        return result2
    ...
    return default_result</code></pre>

                    <div class="example">Example:</div>
                    <pre><code class="language-javascript">function findMax(a, b, c) {
    if (a &gt;= b &amp;&amp; a &gt;= c) return a;
    if (b &gt;= a &amp;&amp; b &gt;= c) return b;
    return c;
}

console.log(findMax(10, 25, 15)); // Output: 25</code></pre>

                    <div class="use-case">Uses:</div>
                    <ul>
                        <li>Input validation and guard clauses</li>
                        <li>Early termination when solution found</li>
                        <li>Pattern matching or state-based branching</li>
                        <li>Reducing indentation depth (flattening code)</li>
                    </ul>
                    <p class="text-warning mt-2"><strong>Note:</strong> Multiple returns are not inherently bad ‚Äî they're tools. Use them to make logic transparent, not confusing.</p>
                </details>
            </section>

            <section id="no-explicit-return">
                <details>
                    <summary>Functions Without Explicit Returns</summary>
                    <div class="definition">Definition:</div>
                    <p>A function that doesn‚Äôt contain a <code>return</code> statement still produces a value ‚Äî typically a language-specific default (like <code>None</code> in Python, <code>undefined</code> in JavaScript).</p>

                    <div class="detail">Detail:</div>
                    <p>Every function returns something. Even if you omit the <code>return</code> keyword, the function implicitly returns a sentinel value. This is crucial to understand because relying on implicit returns can lead to bugs if the caller expects data but receives nothing useful. In functional programming, such functions are considered ‚Äúprocedures‚Äù rather than true functions ‚Äî they perform actions but yield no meaningful output.</p>

                    <div class="example">Example:</div>
                    <pre><code class="language-python">def print_greeting(name):
    print("Hello, " + name)  # No return statement

result = print_greeting("Alice")
print(result)  # Output: None

# Contrast with explicit return:
def get_greeting(name):
    return "Hello, " + name

greeting = get_greeting("Bob")
print(greeting)  # Output: Hello, Bob</code></pre>

                    <div class="use-case">Uses:</div>
                    <ul>
                        <li>Procedures that only perform side effects (logging, I/O, UI updates)</li>
                        <li>Constructor-like functions (initialization without output)</li>
                        <li>Callbacks where return value is ignored</li>
                        <li>Teaching examples demonstrating distinction between procedures and functions</li>
                    </ul>
                    <p class="text-info mt-2">üí° <strong>Best Practice:</strong> Always document whether a function returns a value. If it should return something, always use an explicit <code>return</code>.</p>
                </details>
            </section>

            <section id="side-effects">
                <details>
                    <summary>Side Effects vs Pure Functions</summary>
                    <div class="definition">Definition:</div>
                    <p>A <span class="highlight">side effect</span> is any observable change outside the function‚Äôs scope caused by its execution. A <span class="highlight">pure function</span> has no side effects and always returns the same output for the same input.</p>

                    <div class="detail">Detail:</div>
                    <p>Pure functions are deterministic and referentially transparent ‚Äî meaning you can replace the function call with its result without changing program behavior. Side effects include modifying global variables, writing to files, printing to console, mutating parameters, or interacting with databases. While side effects are necessary in real programs (you need to show output!), pure functions are easier to test, debug, parallelize, and reason about.</p>

                    <div class="syntax">Syntax:</div>
                    <pre><code>// IMPURE FUNCTION - Has side effect
function addToGlobal(x) {
    globalSum += x;  // ‚Üê Side effect: modifies external state
    return globalSum;
}

// PURE FUNCTION - No side effects
function add(x, y) {
    return x + y;  // ‚Üê Only uses inputs, returns output
}</code></pre>

                    <div class="example">Example:</div>
                    <pre><code class="language-python"># Impure function
counter = 0

def increment():
    global counter
    counter += 1
    return counter

# Pure function
def double(x):
    return x * 2

# Usage
print(double(5))   # Always 10
print(increment()) # First call: 1, Second call: 2 ‚Üí UNPREDICTABLE without context!</code></pre>

                    <div class="use-case">Uses:</div>
                    <ul>
                        <li><strong>Pure functions:</strong> Unit testing, memoization, concurrency, functional pipelines</li>
                        <li><strong>Impure functions:</strong> User interaction, file system access, network calls, logging</li>
                        <li><strong>Hybrid approach:</strong> Isolate side effects at boundaries (e.g., I/O layers), keep core logic pure</li>
                    </ul>
                    <p class="text-success mt-2">‚úÖ Rule of thumb: If your function changes anything beyond its local scope, it's impure. Aim for purity where possible!</p>
                </details>
            </section>

            <section id="function-composition">
                <details>
                    <summary>Function Composition Basics</summary>
                    <div class="definition">Definition:</div>
                    <p><span class="highlight">Function composition</span> means combining two or more functions so that the output of one becomes the input of another: <code>f(g(x))</code>.</p>

                    <div class="detail">Detail:</div>
                    <p>Composition is foundational in functional programming. It enables building complex behaviors from simple, reusable, pure functions. Think of it like assembling Lego blocks ‚Äî each function does one thing well, and you chain them together. Composition preserves purity: if all component functions are pure, the composed function remains pure.</p>

                    <div class="syntax">Syntax:</div>
                    <pre><code>composed_function = f ‚àò g     // Mathematical notation
composed_function(x) = f(g(x))  // Execution order: g first, then f</code></pre>

                    <div class="example">Example:</div>
                    <pre><code class="language-javascript">// Simple pure functions
const square = x =&gt; x * x;
const double = x =&gt; x * 2;
const addOne = x =&gt; x + 1;

// Compose them: double, then square, then addOne
const process = x =&gt; addOne(square(double(x)));

console.log(process(3)); 
// Step-by-step: 
// double(3) ‚Üí 6
// square(6) ‚Üí 36  
// addOne(36) ‚Üí 37
// Result: 37</code></pre>

                    <div class="use-case">Uses:</div>
                    <ul>
                        <li>Data transformation pipelines (e.g., filtering, mapping, reducing arrays)</li>
                        <li>Building reusable logic modules</li>
                        <li>Creating domain-specific languages (DSLs)</li>
                        <li>Improving code readability and modularity</li>
                    </ul>
                    <p class="formula">f ‚àò g (x) = f(g(x))</p>
                    <p>Real-world analogy: Coffee maker pipeline ‚Äî grind beans ‚Üí brew ‚Üí pour ‚Üí add milk. Each step transforms the output of the previous.</p>
                </details>
            </section>

            <hr class="my-5">

            <div class="alert alert-info">
                <h5>Key Takeaways</h5>
                <ul>
                    <li>Always use <code>return</code> explicitly when you intend to send data back ‚Äî never rely on implicit returns.</li>
                    <li>Multiple return points improve clarity when used for early exits and guard clauses.</li>
                    <li>Side effects make programs harder to reason about ‚Äî isolate them, minimize them, and document them.</li>
                    <li>Pure functions are the building blocks of reliable, testable, scalable code.</li>
                    <li>Function composition lets you build powerful systems from simple, predictable parts.</li>
                </ul>
            </div>

            <div class="text-center mt-4">
                <small class="text-muted">¬© 2024 AI Tutor ‚Äî Mastering Programming Fundamentals One Concept at a Time</small>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript Utilities -->
<script>
    // Expand/Collapse All
    document.getElementById('expandAll').addEventListener('click', () => {
        document.querySelectorAll('details').forEach(detail => {
            detail.open = true;
        });
    });

    document.getElementById('collapseAll').addEventListener('click', () => {
        document.querySelectorAll('details').forEach(detail => {
            detail.open = false;
        });
    });

    // Smooth scrolling for TOC links
    document.querySelectorAll('.toc-item a, .toc-subitem a').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Search functionality for TOC
    document.getElementById('searchToc').addEventListener('input', function() {
        const query = this.value.toLowerCase();
        const tocItems = document.querySelectorAll('.toc-item, .toc-subitem');
        
        tocItems.forEach(item => {
            const text = item.textContent.toLowerCase();
            if (query === '' || text.includes(query)) {
                item.style.display = '';
            } else {
                item.style.display = 'none';
            }
        });
    });

    // Syntax Highlighting (basic)
    document.querySelectorAll('pre code').forEach(block => {
        hljs.highlightBlock(block);
    });

    // Add highlight.js if not present (fallback)
    if (typeof hljs === 'undefined') {
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js';
        script.onload = () => {
            document.querySelectorAll('pre code').forEach(block => {
                hljs.highlightBlock(block);
            });
        };
        document.head.appendChild(script);
    }
</script>

<!-- Optional: Add highlight.js for better syntax highlighting -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

</body>
</html>
```