```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 21: Cross-Browser Compatibility</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root {
            --bg-dark: #0a192f;
            --cyan: #00d1ff;
            --amber: #ffb347;
            --text-light: #e6f1ff;
            --text-secondary: #b8c6d8;
            --card-bg: #112240;
            --border-color: #2a4a6e;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }

        .left-panel {
            background-color: var(--card-bg);
            border-right: 1px solid var(--border-color);
            height: 100vh;
            position: fixed;
            width: 300px;
            overflow-y: auto;
            padding: 1rem;
            box-shadow: 2px 0 10px rgba(0, 209, 255, 0.1);
        }

        .right-panel {
            margin-left: 300px;
            padding: 2rem;
            overflow-y: auto;
            max-height: 100vh;
            height: 100vh;
        }

        .section-title {
            color: var(--cyan);
            border-bottom: 2px solid var(--amber);
            padding-bottom: 0.5rem;
            margin-top: 2rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .subsection-title {
            color: var(--amber);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            padding-left: 0.5rem;
            border-left: 3px solid var(--cyan);
        }

        .toc-item {
            margin: 0.5rem 0;
            transition: all 0.3s ease;
        }

        .toc-item a {
            color: var(--text-secondary);
            text-decoration: none;
            display: block;
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .toc-item a:hover {
            background-color: rgba(0, 209, 255, 0.1);
            color: var(--cyan);
        }

        .toc-item.active a {
            color: var(--cyan);
            background-color: rgba(0, 209, 255, 0.15);
        }

        .toc-heading {
            color: var(--cyan);
            font-weight: 600;
            margin: 1rem 0 0.5rem 0;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .toc-heading i {
            margin-right: 0.5rem;
            transition: transform 0.3s;
        }

        .toc-heading.collapsed i {
            transform: rotate(-90deg);
        }

        pre code {
            background-color: #0d1b2a !important;
            color: var(--text-light) !important;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            border-left: 3px solid var(--amber);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        code {
            background-color: rgba(13, 27, 42, 0.8);
            color: var(--amber);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
        }

        details {
            margin: 1.2rem 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            background-color: rgba(17, 34, 64, 0.5);
        }

        summary {
            padding: 0.8rem 1rem;
            background-color: var(--card-bg);
            color: var(--cyan);
            font-weight: 600;
            cursor: pointer;
            list-style: none;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        summary::-webkit-details-marker {
            display: none;
        }

        summary::before {
            content: "+";
            color: var(--amber);
            margin-right: 0.5rem;
            font-weight: bold;
            font-size: 1.2rem;
        }

        details[open] summary::before {
            content: "‚àí";
        }

        .control-buttons {
            margin-bottom: 1.5rem;
            display: flex;
            gap: 0.5rem;
        }

        .control-btn {
            background-color: var(--card-bg);
            border: 1px solid var(--amber);
            color: var(--amber);
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background-color: var(--amber);
            color: var(--bg-dark);
        }

        .highlight {
            background-color: rgba(255, 179, 71, 0.1);
            border-left: 4px solid var(--amber);
            padding: 0.8rem 1rem;
            margin: 1rem 0;
            border-radius: 0 4px 4px 0;
        }

        .formula {
            background-color: rgba(0, 209, 255, 0.1);
            border: 1px dashed var(--cyan);
            padding: 0.8rem;
            border-radius: 6px;
            margin: 1rem 0;
            font-family: 'Cambria Math', serif;
            text-align: center;
            color: var(--cyan);
        }

        .example-box {
            background-color: rgba(10, 25, 47, 0.7);
            border: 1px solid var(--cyan);
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .badge {
            background-color: var(--amber);
            color: var(--bg-dark);
            font-size: 0.8rem;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            margin-left: 0.5rem;
        }

        .browser-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .browser-card {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            background-color: rgba(17, 34, 64, 0.5);
        }

        .browser-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--cyan);
        }

        .browser-support {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            margin: 0.2rem;
        }

        .support-yes {
            background-color: rgba(0, 209, 255, 0.2);
            color: var(--cyan);
            border: 1px solid var(--cyan);
        }

        .support-no {
            background-color: rgba(255, 179, 71, 0.2);
            color: var(--amber);
            border: 1px solid var(--amber);
        }

        .support-partial {
            background-color: rgba(138, 138, 138, 0.2);
            color: #aaa;
            border: 1px solid #aaa;
        }

        .search-input {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-color);
            color: var(--text-light);
            margin-bottom: 1rem;
            padding: 0.5rem;
            border-radius: 4px;
        }

        @media (max-width: 991px) {
            .left-panel {
                width: 100%;
                height: auto;
                position: relative;
            }
            .right-panel {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid p-0">
        <div class="row g-0">
            <!-- Left Panel -->
            <div class="col-md-3 left-panel">
                <div class="text-center mb-4">
                    <h3 class="text-cyan">Module 21</h3>
                    <h5 class="text-amber">Cross-Browser Compatibility</h5>
                    <p class="text-secondary">Build websites that work everywhere ‚Äî not just on your favorite browser</p>
                    <small class="text-muted">By CSS Mastery Tutor</small>
                </div>

                <div class="control-buttons">
                    <button id="expandAll" class="control-btn"><i class="bi bi-plus-circle"></i> Expand All</button>
                    <button id="collapseAll" class="control-btn"><i class="bi bi-dash-circle"></i> Collapse All</button>
                </div>

                <input type="text" class="form-control search-input" id="tocSearch" placeholder="Search topics...">

                <div class="toc-section">
                    <div class="toc-heading" data-target="section-21-1">
                        <span>21.1 Browser Support Strategies</span>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="toc-subitems" id="section-21-1">
                        <div class="toc-item">
                            <a href="#progressive-enhancement">Progressive enhancement</a>
                        </div>
                        <div class="toc-item">
                            <a href="#feature-queries">Feature queries (@supports)</a>
                        </div>
                        <div class="toc-item">
                            <a href="#graceful-degradation">Graceful degradation</a>
                        </div>
                        <div class="toc-item">
                            <a href="#polyfills-fallbacks">Polyfills and fallbacks</a>
                        </div>
                    </div>

                    <div class="toc-heading" data-target="section-21-2">
                        <span>21.2 Vendor Prefixes and Standardization</span>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="toc-subitems" id="section-21-2">
                        <div class="toc-item">
                            <a href="#autoprefixer-tooling">Autoprefixer and tooling</a>
                        </div>
                        <div class="toc-item">
                            <a href="#legacy-browser-support">Legacy browser support</a>
                        </div>
                        <div class="toc-item">
                            <a href="#feature-vs-browser-detection">Feature detection vs browser detection</a>
                        </div>
                        <div class="toc-item">
                            <a href="#modernizr-integration">Modernizr integration</a>
                        </div>
                    </div>

                    <div class="toc-heading" data-target="section-21-3">
                        <span>21.3 Testing and Debugging</span>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="toc-subitems" id="section-21-3">
                        <div class="toc-item">
                            <a href="#dev-tools-mastery">Browser developer tools mastery</a>
                        </div>
                        <div class="toc-item">
                            <a href="#cross-browser-testing">Cross-browser testing strategies</a>
                        </div>
                        <div class="toc-item">
                            <a href="#css-debugging-techniques">CSS debugging techniques</a>
                        </div>
                        <div class="toc-item">
                            <a href="#performance-profiling">Performance profiling</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="col-md-9 right-panel">
                <h1 class="text-center mb-5 text-cyan">Module 21: Cross-Browser Compatibility</h1>
                <p class="text-secondary text-center mb-5">Ensure your designs work flawlessly across browsers ‚Äî from Chrome to Internet Explorer</p>

                <!-- 21.1 Browser Support Strategies -->
                <section id="section-21-1">
                    <h2 class="section-title">21.1 Browser Support Strategies</h2>
                    <p class="text-secondary">Different browsers interpret CSS differently. Strategic approaches ensure your website works for everyone, regardless of their browser choice.</p>

                    <details>
                        <summary>Definition: Progressive Enhancement</summary>
                        <p>Progressive enhancement is the philosophy of building a basic experience first, then enhancing it with advanced features for modern browsers.</p>
                        <p><strong>Core principle:</strong> Start simple, add complexity progressively.</p>
                        <p><strong>Analogy:</strong> Think of it like building a house:</p>
                        <ol>
                            <li>Foundation and walls (basic HTML)</li>
                            <li>Windows and doors (semantic CSS)</li>
                            <li>Smart lighting and security system (advanced CSS features)</li>
                        </ol>
                        <p>Even if the smart system fails, the house still stands!</p>
                    </details>

                    <details>
                        <summary>Syntax: Progressive Enhancement Example</summary>
                        <pre><code>&lt;!-- Basic HTML: Works everywhere --&gt;
&lt;button&gt;Submit&lt;/button&gt;

&lt;!-- Enhanced CSS: Modern browsers get fancy --&gt;
button {
  padding: 1rem;
  border: none;
  border-radius: 8px;
  background-color: #00d1ff;
  color: white;
  font-weight: 600;
  cursor: pointer;
}

/* Advanced enhancements */
button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(0, 209, 255, 0.3);
}

button:focus {
  outline: 2px solid var(--amber);
  outline-offset: 2px;
}

/* Feature query for even more advanced effects */
@supports (backdrop-filter: blur(10px)) {
  button {
    backdrop-filter: blur(10px);
    background-color: rgba(0, 209, 255, 0.8);
  }
}</code></pre>
                        <p>Result: All browsers get a functional button. Modern browsers get visual polish. Very old browsers? Still functional!</p>
                    </details>

                    <details>
                        <summary>Definition: Feature Queries (@supports)</summary>
                        <p><code>@supports</code> is a CSS at-rule that allows you to apply styles based on whether the browser supports a specific CSS feature.</p>
                        <p>It's the CSS equivalent of JavaScript's <code>if ('property' in document.body.style)</code>.</p>
                        <p>Unlike browser detection, this tests actual capability ‚Äî much more reliable!</p>
                    </details>

                    <details>
                        <summary>Syntax: Feature Query Examples</summary>
                        <pre><code>// Check for CSS Grid support
@supports (display: grid) {
  .container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
  }
}

// Multiple conditions
@supports (display: grid) and (gap: 1rem) {
  .grid-container {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 1.5rem;
  }
}

// OR condition using comma
@supports (display: flex) or (display: -webkit-flex) {
  .flex-container {
    display: flex;
    align-items: center;
  }
}

// Negation
@supports not (backdrop-filter: blur(10px)) {
  .modal {
    background-color: rgba(0, 0, 0, 0.8); /* Fallback without blur */
  }
}

// Nesting feature queries
@supports (display: grid) {
  .container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    
    @supports (grid-template-areas: "header header") {
      grid-template-areas: "header header";
    }
  }
}</code></pre>
                        <p>Pro tip: Use feature queries to safely use new CSS properties without breaking older browsers!</p>
                    </details>

                    <details>
                        <summary>Definition: Graceful Degradation</summary>
                        <p>Graceful degradation is the opposite approach: start with a complex design and make sure it still works when advanced features aren't available.</p>
                        <p><strong>Key difference:</strong> Progressive enhancement = build up. Graceful degradation = build down.</p>
                        <p>Both are valid strategies ‚Äî choose based on your project goals.</p>
                        <p>Use graceful degradation when:</p>
                        <ul>
                            <li>You're maintaining legacy systems</li>
                            <li>Your users are mostly on modern browsers</li>
                            <li>You need complex layouts that can't be simplified</li>
                        </ul>
                    </details>

                    <details>
                        <summary>Example: Graceful Degradation Implementation</summary>
                        <div class="example-box">
                            <pre><code>// Modern layout with Flexbox
.container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
}

.item {
  flex: 1 1 300px;
  margin: 1rem;
  padding: 2rem;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

// Fallback for older browsers (IE9-11)
.no-flexbox .container {
  display: block;
}

.no-flexbox .item {
  display: inline-block;
  width: 300px;
  margin: 1rem;
  padding: 2rem;
  vertical-align: top;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

// Add no-flexbox class via JavaScript
&lt;script&gt;
if (!('flex' in document.documentElement.style)) {
  document.documentElement.classList.add('no-flexbox');
}
&lt;/script&gt;</code></pre>
                        </div>
                        <p>This approach detects unsupported features and adds classes to the HTML element, allowing you to write targeted fallback CSS.</p>
                    </details>

                    <details>
                        <summary>Syntax: Polyfills and Fallbacks</summary>
                        <p>Polyfills are JavaScript libraries that provide functionality missing in older browsers.</p>
                        <p>Fallbacks are CSS alternatives that provide similar experiences without requiring JavaScript.</p>
                        <pre><code>// CSS Fallbacks
.button {
  /* Fallback for browsers without gradient support */
  background-color: #00d1ff;
  
  /* Modern gradient */
  background: linear-gradient(135deg, #00d1ff, #1e3c72);
  
  /* WebKit fallback for older Safari */
  background: -webkit-linear-gradient(135deg, #00d1ff, #1e3c72);
}

// For CSS variables (custom properties)
:root {
  --primary-color: #00d1ff;
}

.button {
  /* Fallback for IE11 */
  background-color: #00d1ff;
  
  /* Modern usage */
  background-color: var(--primary-color);
}

// JavaScript polyfill example (for CSS custom properties)
// Include a polyfill library like https://github.com/jonathantneal/css-vars-ponyfill

// Or use a simple script
if (!window.CSS || !CSS.supports || !CSS.supports('color', 'var(--test)')) {
  // Apply fallback styles via JavaScript
  const root = document.documentElement;
  const vars = getComputedStyle(root).getPropertyValue('--primary-color');
  document.querySelectorAll('.button').forEach(el => {
    el.style.backgroundColor = vars;
  });
}</code></pre>
                        <p>Important: Use polyfills sparingly ‚Äî they add weight and complexity. Prefer CSS fallbacks whenever possible!</p>
                    </details>

                    <details>
                        <summary>Uses: When to Use Each Strategy</summary>
                        <table class="table table-dark table-sm mt-2">
                            <thead>
                                <tr>
                                    <th>Strategy</th>
                                    <th>Best For</th>
                                    <th>Pros</th>
                                    <th>Cons</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Progressive Enhancement</td>
                                    <td>New projects, accessibility focus</td>
                                    <td>Works on all devices, SEO friendly, future-proof</td>
                                    <td>Requires more planning</td>
                                </tr>
                                <tr>
                                    <td>Graceful Degradation</td>
                                    <td>Legacy systems, complex designs</td>
                                    <td>Easier to implement on existing sites</td>
                                    <td>Can leave users with broken experiences</td>
                                </tr>
                                <tr>
                                    <td>Feature Queries</td>
                                    <td>Targeted enhancements</td>
                                    <td>Clean, pure CSS, no JS needed</td>
                                    <td>Not supported in very old browsers</td>
                                </tr>
                                <tr>
                                    <td>Polyfills</td>
                                    <td>Essential missing features</td>
                                    <td>Enables modern functionality</td>
                                    <td>Slows performance, increases bundle size</td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="badge">Golden Rule: Always prefer CSS solutions over JavaScript polyfills!</p>
                    </details>
                </section>

                <!-- 21.2 Vendor Prefixes and Standardization -->
                <section id="section-21-2">
                    <h2 class="section-title">21.2 Vendor Prefixes and Standardization</h2>
                    <p class="text-secondary">Browser vendors often implement experimental CSS features with prefixes before standardization. Understanding these is crucial for cross-browser compatibility.</p>

                    <details>
                        <summary>Definition: Vendor Prefixes Explained</summary>
                        <p>Vendor prefixes are special prefixes added by browser vendors to experimental CSS properties before they become standard.</p>
                        <p>Common prefixes:</p>
                        <ul>
                            <li><code>-webkit-</code>: Chrome, Safari, Edge</li>
                            <li><code>-moz-</code>: Firefox</li>
                            <li><code>-ms-</code>: Internet Explorer</li>
                            <li><code>-o-</code>: Opera (historical)</li>
                        </ul>
                        <p>Example: <code>-webkit-border-radius</code> ‚Üí <code>border-radius</code></p>
                        <p>Why they exist: Allows browsers to experiment without breaking standards!</p>
                    </details>

                    <details>
                        <summary>Syntax: Autoprefixer and Tooling</summary>
                        <p>Manually writing vendor prefixes is tedious and error-prone. Use Autoprefixer!</p>
                        <pre><code>// Your clean CSS
.card {
  display: flex;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transform: translateX(10px);
  transition: all 0.3s ease;
  user-select: none;
  appearance: none;
}

// Autoprefixer output
.card {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  border-radius: 10px;
  -webkit-box-shadow: 0 5px 15px rgba(0,0,0,0.1);
          box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  -webkit-transform: translateX(10px);
      -ms-transform: translateX(10px);
          transform: translateX(10px);
  -webkit-transition: all 0.3s ease;
  transition: all 0.3s ease;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  -webkit-appearance: none;
     -moz-appearance: none;
      -ms-appearance: none;
          appearance: none;
}</code></pre>
                        <p>Configure Autoprefixer with <code>browserslist</code> in package.json:</p>
                        <pre><code>{
  "browserslist": [
    "last 2 versions",
    "> 1%",
    "not dead",
    "ie >= 11"
  ]
}</code></pre>
                        <p>Modern tools automatically handle this during build process!</p>
                    </details>

                    <details>
                        <summary>Detail: Legacy Browser Support</summary>
                        <p>Supporting legacy browsers requires strategic decisions:</p>
                        <table class="table table-dark table-sm mt-2">
                            <thead>
                                <tr>
                                    <th>Browser</th>
                                    <th>Year Released</th>
                                    <th>Key Limitations</th>
                                    <th>Support Strategy</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Internet Explorer 11</td>
                                    <td>2013</td>
                                    <td>No CSS Grid, limited Flexbox, no CSS variables</td>
                                    <td>Use fallbacks, avoid advanced features</td>
                                </tr>
                                <tr>
                                    <td>Edge (Legacy)</td>
                                    <td>2015</td>
                                    <td>Poor CSS Grid implementation</td>
                                    <td>Test thoroughly, use feature queries</td>
                                </tr>
                                <tr>
                                    <td>Safari 12</td>
                                    <td>2018</td>
                                    <td>Partial CSS Grid, no aspect-ratio</td>
                                    <td>Provide fallback dimensions</td>
                                </tr>
                                <tr>
                                    <td>Android 4.4</td>
                                    <td>2013</td>
                                    <td>Very limited Flexbox, no CSS Grid</td>
                                    <td>Use float-based layouts</td>
                                </tr>
                            </tbody>
                        </table>
                        <p>Ask yourself: Who are your users?</p>
                        <ul>
                            <li>Corporate environments? May require IE11 support</li>
                            <li>Global audience? Need Android 4.4+ support</li>
                            <li>Modern web app? Focus on last 2 versions</li>
                        </ul>
                    </details>

                    <details>
                        <summary>Syntax: Feature Detection vs Browser Detection</summary>
                        <p>Two approaches to handling browser differences:</p>
                        
                        <div class="highlight">
                            <h4>‚ùå Browser Detection (DON'T DO THIS)</h4>
                            <pre><code>// BAD: Detecting browser by user agent
if (navigator.userAgent.indexOf('MSIE') !== -1) {
  // Apply IE-specific styles
}</code></pre>
                            <p>Problems:</p>
                            <ul>
                                <li>User agents can be spoofed</li>
                                <li>Hard to maintain as browsers update</li>
                                <li>Misses edge cases</li>
                            </ul>
                        </div>

                        <div class="highlight">
                            <h4>‚úÖ Feature Detection (DO THIS)</h4>
                            <pre><code>// GOOD: Test for actual feature support
if ('grid' in document.documentElement.style) {
  // Use CSS Grid
} else {
  // Use fallback layout
}

// Or use Modernizr
if (Modernizr.cssgrid) {
  // Use CSS Grid
}

// Pure CSS feature detection
@supports (display: grid) {
  .container { display: grid; }
}

// JavaScript feature detection
const supportsFlexbox = 'flex' in document.documentElement.style;
const supportsGrid = 'gridTemplateRows' in document.documentElement.style;
const supportsVariables = window.CSS && CSS.supports('color', 'var(--test)');</code></pre>
                            <p>Advantages:</p>
                            <ul>
                                <li>Tests actual capabilities, not browser names</li>
                                <li>Future-proof</li>
                                <li>More reliable</li>
                            </ul>
                        </div>
                    </details>

                    <details>
                        <summary>Example: Modernizr Integration</summary>
                        <p>Modernizr is a JavaScript library that detects HTML5 and CSS3 features.</p>
                        <pre><code>&lt;!-- Include Modernizr --&gt;
&lt;script src="modernizr.js"&gt;&lt;/script&gt;

&lt;!-- Modernizr adds classes to &lt;html&gt; element --&gt;
&lt;html class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"&gt;

&lt;!-- CSS targeting detected features --&gt;
.flexbox .container {
  display: flex;
}

.no-flexbox .container {
  display: block;
}

.cssgrid .grid-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
}

.no-cssgrid .grid-container {
  display: flex;
  flex-wrap: wrap;
}

.gradient-background {
  background: #00d1ff;
}

.cssgradients .gradient-background {
  background: linear-gradient(135deg, #00d1ff, #1e3c72);
}</code></pre>
                        <p>Modernizr also provides JavaScript API:</p>
                        <pre><code>if (Modernizr.cssgrid) {
  // Use grid layout
} else {
  // Use fallback
}

// Test for multiple features
if (Modernizr.flexbox && Modernizr.cssgrid) {
  // Use advanced layout
}</code></pre>
                        <p>Pro tip: Use the Custom Build feature on modernizr.com to include only what you need!</p>
                    </details>

                    <details>
                        <summary>Uses: Why Standardization Matters</summary>
                        <ul>
                            <li><strong>Consistency:</strong> Users expect consistent experiences across devices</li>
                            <li><strong>Business impact:</strong> 70% of users will abandon a site that doesn't work on their device</li>
                            <li><strong>SEO:</strong> Google favors sites that work well on mobile and desktop</li>
                            <li><strong>Maintenance:</strong> Standardized code is easier to maintain</li>
                            <li><strong>Inclusion:</strong> Supports users with older devices or restricted IT policies</li>
                        </ul>
                        <p class="badge">Remember: You don't design for browsers ‚Äî you design for people who use browsers.</p>
                    </details>
                </section>

                <!-- 21.3 Testing and Debugging -->
                <section id="section-21-3">
                    <h2 class="section-title">21.3 Testing and Debugging</h2>
                    <p class="text-secondary">Testing across browsers isn't optional ‚Äî it's essential. Learn the tools and techniques to identify and fix compatibility issues quickly.</p>

                    <details>
                        <summary>Syntax: Browser Developer Tools Mastery</summary>
                        <p>Master these DevTools features for cross-browser debugging:</p>
                        <pre><code>// Chrome DevTools shortcuts:
// Ctrl+Shift+I / Cmd+Option+I ‚Äî Open DevTools
// Ctrl+Shift+M / Cmd+Option+M ‚Äî Toggle device toolbar
// Ctrl+Shift+P / Cmd+Option+P ‚Äî Command menu
// Ctrl+F / Cmd+F ‚Äî Find in elements

// Key panels for compatibility:
// 1. Elements panel ‚Äî inspect computed styles
// 2. Console ‚Äî check for errors
// 3. Network ‚Äî see loading times
// 4. Application ‚Äî view storage, service workers
// 5. Performance ‚Äî profile rendering

// Useful features:
// ‚Ä¢ Override colors to test contrast
// ‚Ä¢ Disable cache to force reload
// ‚Ä¢ Simulate slow networks (3G/4G)
// ‚Ä¢ Toggle CSS properties on/off
// ‚Ä¢ View computed values for each property

// Firefox DevTools: Similar features + Color Contrast Checker
// Edge DevTools: Based on Chromium, same as Chrome
// Safari DevTools: Enable via Preferences ‚Üí Advanced ‚Üí Show Develop menu</code></pre>
                        <div class="example-box">
                            <p><strong>Debugging workflow:</strong></p>
                            <ol>
                                <li>Reproduce the issue on target browser</li>
                                <li>Open DevTools ‚Üí Elements panel</li>
                                <li>Check computed styles for unexpected values</li>
                                <li>Toggle CSS properties to isolate problem</li>
                                <li>Check console for CSS parsing errors</li>
                                <li>Compare with working browser</li>
                            </ol>
                        </div>
                    </details>

                    <details>
                        <summary>Detail: Cross-Browser Testing Strategies</summary>
                        <p>Don't rely on guesswork ‚Äî test systematically:</p>
                        <div class="browser-grid">
                            <div class="browser-card">
                                <div class="browser-icon">üåê</div>
                                <h5>Chrome</h5>
                                <div class="browser-support support-yes">Latest</div>
                                <div class="browser-support support-yes">Previous</div>
                                <div class="browser-support support-no">IE</div>
                            </div>
                            <div class="browser-card">
                                <div class="browser-icon">ü¶ä</div>
                                <h5>Firefox</h5>
                                <div class="browser-support support-yes">Latest</div>
                                <div class="browser-support support-yes">Previous</div>
                                <div class="browser-support support-no">IE</div>
                            </div>
                            <div class="browser-card">
                                <div class="browser-icon">üçé</div>
                                <h5>Safari</h5>
                                <div class="browser-support support-yes">Latest</div>
                                <div class="browser-support support-yes">Previous</div>
                                <div class="browser-support support-partial">iOS 12+</div>
                            </div>
                            <div class="browser-card">
                                <div class="browser-icon">ü™ü</div>
                                <h5>Edge</h5>
                                <div class="browser-support support-yes">Latest</div>
                                <div class="browser-support support-partial">Legacy</div>
                                <div class="browser-support support-no">IE</div>
                            </div>
                            <div class="browser-card">
                                <div class="browser-icon">üì±</div>
                                <h5>iOS Safari</h5>
                                <div class="browser-support support-yes">iOS 14+</div>
                                <div class="browser-support support-partial">iOS 12-13</div>
                            </div>
                            <div class="browser-card">
                                <div class="browser-icon">ü§ñ</div>
                                <h5>Android</h5>
                                <div class="browser-support support-yes">Android 8+</div>
                                <div class="browser-support support-partial">Android 6-7</div>
                            </div>
                        </div>
                        <p>Testing strategy:</p>
                        <ol>
                            <li><strong>Core browsers:</strong> Chrome, Firefox, Safari, Edge (latest 2 versions)</li>
                            <li><strong>Mobile:</strong> iOS Safari, Android Chrome</li>
                            <li><strong>Legacy:</strong> IE11 if required</li>
                            <li><strong>Real devices:</strong> Test on actual phones/tablets</li>
                        </ol>
                        <p>Automated testing tools:</p>
                        <ul>
                            <li><strong>BrowserStack</strong>: Real device testing</li>
                            <li><strong>Sauce Labs</strong>: CI/CD integration</li>
                            <li><strong>LambdaTest</strong>: Cross-browser screenshot testing</li>
                            <li><strong>Applitools</strong>: Visual regression testing</li>
                        </ul>
                    </details>

                    <details>
                        <summary>Syntax: CSS Debugging Techniques</summary>
                        <p>When CSS breaks unexpectedly, use these diagnostic techniques:</p>
                        <pre><code>// 1. Identify which rule is being applied
.element {
  border: 2px solid red !important; /* Temporary override */
}

// 2. Find specificity conflicts
/* Add temporary styles to visualize */
* {
  outline: 1px solid cyan !important;
}

// 3. Check inheritance
.element {
  background-color: yellow !important;
}

// 4. Test if property is supported
.element {
  display: grid !important;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==); /* Base64 image */
}

// 5. Use CSS custom properties for debugging
:root {
  --debug-border: 2px solid magenta;
}

.debug-element {
  border: var(--debug-border);
}

// 6. Use CSS containment to isolate issues
.isolated-component {
  contain: layout style paint;
}</code></pre>
                        <p>Pro tip: Use the "Computed" tab in DevTools to see exactly what styles are being applied after all cascading rules have been resolved.</p>
                    </details>

                    <details>
                        <summary>Detail: Performance Profiling</summary>
                        <p>Performance issues often manifest differently across browsers. Profile them systematically:</p>
                        <pre><code>// Chrome DevTools ‚Üí Performance tab
// Record while interacting with your page
// Look for:
// - Long tasks (>50ms)
// - Layout thrashing (multiple reflows)
// - Paint flashes (red areas)
// - Composite delays

// Common CSS performance killers:
// 1. Large backgrounds
// 2. Complex animations
// 3. Excessive shadows
// 4. Many layers (transform: translateZ(0))
// 5. Unoptimized fonts

// Use CSS Triggers to understand what causes reflow/repaint:
// ‚úÖ Cheap triggers (fast): transform, opacity
// ‚ùå Expensive triggers (slow): width, height, top, left, margin, padding

// Monitor with JavaScript:
function logPerformance() {
  performance.mark('start');
  // Do something
  performance.mark('end');
  performance.measure('duration', 'start', 'end');
  const measure = performance.getEntriesByName('duration')[0];
  console.log('Duration:', measure.duration);
}</code></pre>
                        <p>Optimization checklist:</p>
                        <ul>
                            <li>Use <code>will-change</code> for animated properties</li>
                            <li>Prefer <code>transform</code> and <code>opacity</code> for animations</li>
                            <li>Avoid layout thrashing (don't read layout properties between writes)</li>
                            <li>Minimize repaints with <code>contain: paint</code></li>
                            <li>Use CSS Grid/Flexbox instead of floats</li>
                        </ul>
                    </details>

                    <details>
                        <summary>Example: Debugging a Real Cross-Browser Issue</summary>
                        <div class="example-box">
                            <p><strong>Problem:</strong> Flexbox layout looks perfect in Chrome but broken in Safari 12.</p>
                            
                            <pre><code>// HTML
&lt;div class="card-list"&gt;
  &lt;div class="card"&gt;Card 1&lt;/div&gt;
  &lt;div class="card"&gt;Card 2&lt;/div&gt;
  &lt;div class="card"&gt;Card 3&lt;/div&gt;
&lt;/div&gt;

// CSS
.card-list {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}

.card {
  flex: 1 1 300px;
  padding: 1rem;
  border: 1px solid #ddd;
}</code></pre>
                            
                            <p><strong>Debugging steps:</strong></p>
                            <ol>
                                <li>Open Safari DevTools ‚Üí Elements panel</li>
                                <li>Inspect .card-list ‚Üí See "display: flex" is present</li>
                                <li>Check computed styles ‚Üí Notice "gap" property is NOT supported in Safari 12</li>
                                <li>Research ‚Üí Confirmed: Safari 12 doesn't support CSS gap in Flexbox</li>
                                <li>Solution: Replace gap with margins</li>
                            </ol>
                            
                            <pre><code>// Fixed CSS
.card-list {
  display: flex;
  flex-wrap: wrap;
  margin: -0.5rem; /* Negative margin to offset child margins */
}

.card {
  flex: 1 1 300px;
  padding: 1rem;
  border: 1px solid #ddd;
  margin: 0.5rem; /* Positive margin for spacing */
}</code></pre>
                            
                            <p>Result: Perfect layout in both Chrome and Safari!</p>
                        </div>
                    </details>

                    <details>
                        <summary>Best Practices Summary</summary>
                        <ol>
                            <li><strong>Start with semantic HTML</strong> ‚Äî it's the most compatible foundation</li>
                            <li><strong>Use progressive enhancement</strong> ‚Äî build up, don't degrade down</li>
                            <li><strong>Test early and often</strong> ‚Äî don't wait until launch</li>
                            <li><strong>Use feature queries</strong> instead of browser detection</li>
                            <li><strong>Automate testing</strong> with tools like BrowserStack</li>
                            <li><strong>Keep your CSS simple</strong> ‚Äî complex code has more compatibility issues</li>
                            <li><strong>Document browser support</strong> in your project README</li>
                            <li><strong>Monitor real-world usage</strong> with analytics</li>
                            <li><strong>Respect user preferences</strong> ‚Äî accessibility affects compatibility too</li>
                            <li><strong>Always test on real devices</strong> ‚Äî emulators aren't perfect</li>
                        </ol>
                        <p class="highlight">Final Wisdom: "The web is not a single platform ‚Äî it's a collection of platforms. Your job is to make them all work together." ‚Äî A wise developer once said.</p>
                    </details>
                </section>
            </div>
        </div>
    </div>

    <!-- JavaScript Utilities -->
    <script>
        // Expand/Collapse All
        document.getElementById('expandAll').addEventListener('click', () => {
            document.querySelectorAll('details').forEach(detail => {
                detail.open = true;
            });
        });

        document.getElementById('collapseAll').addEventListener('click', () => {
            document.querySelectorAll('details').forEach(detail => {
                detail.open = false;
            });
        });

        // Toggle TOC Sections
        document.querySelectorAll('.toc-heading').forEach(section => {
            section.addEventListener('click', () => {
                const target = section.getAttribute('data-target');
                const subItems = document.getElementById(target);
                section.classList.toggle('collapsed');
            });
        });

        // Search functionality
        document.getElementById('tocSearch').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const tocItems = document.querySelectorAll('.toc-item');
            
            tocItems.forEach(item => {
                const linkText = item.textContent.toLowerCase();
                if (linkText.includes(searchTerm)) {
                    item.style.display = '';
                } else {
                    item.style.display = 'none';
                }
            });
        });

        // Smooth Scrolling for TOC Links
        document.querySelectorAll('.toc-item a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // Highlight active TOC item
                    document.querySelectorAll('.toc-item.active').forEach(el => {
                        el.classList.remove('active');
                    });
                    this.parentElement.classList.add('active');
                }
            });
        });

        // Auto-highlight active section as user scrolls
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.toc-item a');
            
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.id;
                }
            });
            
            navLinks.forEach(link => {
                link.parentElement.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.parentElement.classList.add('active');
                }
            });
        });

        // Syntax highlighting for code blocks
        document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightBlock(block);
        });

        // Add fallback for highlight.js if not loaded
        window.hljs = window.hljs || {
            highlightBlock: (el) => {
                el.classList.add('language-css');
            }
        };
    </script>

    <!-- Optional: Include Highlight.js for better syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
```