<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML, CSS, and DOM Fundamentals</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root {
            --bg-dark: #0a192f;
            --cyan: #00d1ff;
            --amber: #ffb74d;
            --text-light: #e6f1ff;
            --text-secondary: #b3cde6;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }

        .left-panel {
            background-color: rgba(10, 25, 47, 0.9);
            border-right: 1px solid var(--cyan);
            position: fixed;
            height: 100vh;
            width: 300px;
            overflow-y: auto;
            padding: 20px;
            z-index: 1000;
            box-shadow: 5px 0 15px rgba(0, 209, 255, 0.1);
        }

        .right-panel {
            margin-left: 300px;
            padding: 30px;
            max-height: 100vh;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        h1, h2, h3, h4 {
            color: var(--cyan);
            border-bottom: 1px solid var(--amber);
            padding-bottom: 8px;
            margin-top: 30px;
        }

        h1 {
            font-size: 2.2rem;
            border-left: 6px solid var(--amber);
            padding-left: 15px;
        }

        h2 {
            font-size: 1.8rem;
            border-left: 4px solid var(--amber);
            padding-left: 12px;
        }

        h3 {
            font-size: 1.4rem;
            border-left: 3px solid var(--cyan);
            padding-left: 10px;
            margin-top: 25px;
        }

        .subtitle {
            color: var(--amber);
            font-style: italic;
            margin-bottom: 25px;
        }

        .author-info {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 25px;
            padding: 10px;
            background-color: rgba(0, 209, 255, 0.05);
            border-radius: 5px;
            border-left: 3px solid var(--cyan);
        }

        .toc-item {
            margin: 8px 0;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
        }

        .toc-item:hover {
            background-color: rgba(0, 209, 255, 0.1);
            color: var(--cyan);
        }

        .toc-item.active {
            background-color: rgba(0, 209, 255, 0.2);
            color: var(--cyan);
            border-left: 3px solid var(--amber);
        }

        .search-box {
            width: 100%;
            margin-bottom: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-color: var(--cyan);
            color: var(--text-light);
        }

        .btn-control {
            background-color: rgba(0, 209, 255, 0.1);
            border: 1px solid var(--cyan);
            color: var(--cyan);
            margin: 10px 0;
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .btn-control:hover {
            background-color: rgba(0, 209, 255, 0.2);
            transform: translateY(-2px);
        }

        pre code {
            display: block;
            padding: 16px;
            overflow-x: auto;
            background-color: #0f1e33;
            border-left: 4px solid var(--amber);
            border-radius: 5px;
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--text-light);
            font-family: 'Courier New', Courier, monospace;
            margin: 20px 0;
        }

        .code-keyword {
            color: var(--amber);
        }
        .code-string {
            color: #a5ff8f;
        }
        .code-comment {
            color: #777;
        }
        .code-number {
            color: #ff9e6d;
        }
        .code-operator {
            color: #ffcc66;
        }
        .code-property {
            color: #00d1ff;
        }

        details {
            margin: 20px 0;
            border: 1px solid rgba(0, 209, 255, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        summary {
            padding: 15px 20px;
            background-color: rgba(0, 209, 255, 0.1);
            cursor: pointer;
            font-weight: bold;
            color: var(--cyan);
            list-style: none;
            font-size: 1.1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 209, 255, 0.1);
        }

        summary::before {
            content: "▶ ";
            font-size: 0.9rem;
            transition: transform 0.3s ease;
        }

        details[open] summary::before {
            transform: rotate(90deg);
        }

        details > div {
            padding: 20px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .highlight {
            background-color: rgba(255, 183, 77, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid rgba(255, 183, 77, 0.3);
            font-weight: 500;
        }

        .example-box {
            background-color: rgba(10, 25, 47, 0.5);
            border-left: 4px solid var(--amber);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }

        .badge {
            background-color: var(--amber);
            color: #000;
            font-weight: bold;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-left: 8px;
        }

        .footer-note {
            color: var(--text-secondary);
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            border-top: 1px solid rgba(0, 209, 255, 0.1);
            font-size: 0.9rem;
        }

        /* Code preview styling */
        .code-preview {
            border: 1px solid rgba(0, 209, 255, 0.3);
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        .code-preview-header {
            background-color: rgba(0, 209, 255, 0.1);
            padding: 10px 15px;
            font-size: 0.9rem;
            color: var(--cyan);
            border-bottom: 1px solid rgba(0, 209, 255, 0.2);
        }

        .demo-container {
            background-color: #1a2a40;
            border: 1px solid rgba(0, 209, 255, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-light);
        }

        /* Flexbox/Grid demo styles */
        .flex-container {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            padding: 15px;
            background-color: rgba(0, 209, 255, 0.05);
            border-radius: 8px;
        }

        .flex-item {
            background-color: var(--amber);
            color: #000;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            flex: 1;
            font-weight: bold;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 15px 0;
            padding: 15px;
            background-color: rgba(0, 209, 255, 0.05);
            border-radius: 8px;
        }

        .grid-item {
            background-color: var(--amber);
            color: #000;
            padding: 20px;
            border-radius: 6px;
            text-align: center;
            font-weight: bold;
        }

        /* DOM manipulation demo */
        .dom-demo {
            margin: 20px 0;
            padding: 20px;
            background-color: rgba(10, 25, 47, 0.5);
            border: 1px solid rgba(0, 209, 255, 0.2);
            border-radius: 8px;
        }

        .dom-button {
            background-color: var(--amber);
            color: #000;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .dom-button:hover {
            background-color: #ffcc66;
        }

        /* Responsive adjustments */
        @media (max-width: 992px) {
            .left-panel {
                width: 250px;
            }
            .right-panel {
                margin-left: 250px;
            }
        }

        @media (max-width: 768px) {
            .left-panel {
                position: relative;
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid var(--cyan);
            }
            .right-panel {
                margin-left: 0;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <div class="container-fluid p-0">
        <div class="row g-0">
            <!-- Left Panel -->
            <div class="col-md-3 left-panel">
                <h1>Web Fundamentals</h1>
                <p class="subtitle">HTML5, CSS, and DOM Essentials</p>
                <div class="author-info">
                    <i class="bi bi-person-circle"></i> Mastering Frontend Foundations<br>
                    <small>For Absolute Beginners to Intermediate Learners</small>
                </div>

                <input type="text" class="form-control search-box" id="searchToc" placeholder="Search topics...">
                
                <button class="btn btn-control" id="expandAll">Expand All</button>
                <button class="btn btn-control" id="collapseAll">Collapse All</button>

                <div class="toc-container mt-4">
                    <h4 class="text-muted mb-3">Table of Contents</h4>
                    <div class="toc-item active" data-target="#section-3-1">3.1 HTML5 Semantic Elements</div>
                    <div class="toc-item" data-target="#section-3-2">3.2 CSS Flexbox and Grid</div>
                    <div class="toc-item" data-target="#section-3-3">3.3 CSS Variables and Modern Features</div>
                    <div class="toc-item" data-target="#section-3-4">3.4 DOM Manipulation Basics</div>
                    <div class="toc-item" data-target="#section-3-5">3.5 Event Handling in Vanilla JavaScript</div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="col-md-9 right-panel">
                <!-- Section 3.1 -->
                <section id="section-3-1">
                    <h2>3.1 HTML5 Semantic Elements</h2>
                    <p>Semantic HTML uses meaningful tags that describe the purpose of content — improving accessibility, SEO, and code maintainability.</p>

                    <details>
                        <summary>Executive Summary</summary>
                        <div>
                            <ul>
                                <li><strong>Semantic elements</strong>: <code><header></code>, <code><nav></code>, <code><main></code>, <code><section></code>, <code><article></code>, <code><aside></code>, <code><footer></code></li>
                                <li><strong>Non-semantic elements</strong>: <code><div></code>, <code><span></code> — generic containers with no meaning</li>
                                <li>Semantic HTML improves accessibility for screen readers and SEO ranking</li>
                                <li>Always use semantic elements when they match your content's purpose</li>
                            </ul>
                            <p class="highlight">Semantic HTML = Better code + Better accessibility + Better SEO</p>
                        </div>
                    </details>

                    <details>
                        <summary>Forensic Detail: The Complete Semantic Toolkit</summary>
                        <div>
                            <p>Here are the essential semantic elements and their purposes:</p>

                            <div class="example-box">
                                <pre><code><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Semantics in Action</title>
</head>
<body>

    <!-- Header section -->
    <header>
        <h1>My Website</h1>
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main content -->
    <main>
        <!-- Article: self-contained content -->
        <article>
            <header>
                <h2>Blog Post Title</h2>
                <p>Published on January 15, 2024</p>
            </header>
            
            <p>This is the main content of the article. It can be distributed independently.</p>
            
            <section>
                <h3>Section 1</h3>
                <p>Content for first section</p>
            </section>
            
            <section>
                <h3>Section 2</h3>
                <p>Content for second section</p>
            </section>
        </article>

        <!-- Aside: tangentially related content -->
        <aside>
            <h3>Related Articles</h3>
            <ul>
                <li><a href="#">Article 1</a></li>
                <li><a href="#">Article 2</a></li>
            </ul>
        </aside>
    </main>

    <!-- Footer -->
    <footer>
        <p>&amp;copy; 2024 My Website. All rights reserved.</p>
    </footer>

</body>
</html></code></pre>
                            </div>

                            <p><strong>Key Differences:</strong></p>
                            <table class="table table-dark table-striped mt-3">
                                <thead>
                                    <tr>
                                        <th>Element</th>
                                        <th>Purpose</th>
                                        <th>When to Use</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code><div></code></td>
                                        <td>Generic container</td>
                                        <td>Only when no semantic element fits</td>
                                    </tr>
                                    <tr>
                                        <td><code><section></code></td>
                                        <td>Thematic grouping</td>
                                        <td>Grouping related content with a heading</td>
                                    </tr>
                                    <tr>
                                        <td><code><article></code></td>
                                        <td>Self-contained composition</td>
                                        <td>Blog posts, news articles, comments</td>
                                    </tr>
                                    <tr>
                                        <td><code><aside></code></td>
                                        <td>Tangential content</td>
                                        <td>Sidebar, pull quotes, ads</td>
                                    </tr>
                                    <tr>
                                        <td><code><header></code></td>
                                        <td>Introductory content</td>
                                        <td>Page header, article header</td>
                                    </tr>
                                    <tr>
                                        <td><code><footer></code></td>
                                        <td>Footer content</td>
                                        <td>Page footer, article footer</td>
                                    </tr>
                                    <tr>
                                        <td><code><nav></code></td>
                                        <td>Navigation links</td>
                                        <td>Main menu, pagination, TOC</td>
                                    </tr>
                                    <tr>
                                        <td><code><main></code></td>
                                        <td>Primary content</td>
                                        <td>Exactly one per page, unique content</td>
                                    </tr>
                                </tbody>
                            </table>

                            <p><strong>Pro Tip:</strong> You can nest semantic elements! A <code><header></code> can go inside an <code><article></code> or at the top of the page.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Origin Story: The Div-ification Problem</summary>
                        <div>
                            <p>Before HTML5, developers relied heavily on <code><div></code> for everything:</p>

                            <div class="example-box">
                                <pre><code><!-- ❌ Pre-HTML5: Non-semantic mess -->
<div id="header">
    <div class="logo">...</div>
    <div class="navigation">...</div>
</div>

<div id="content">
    <div class="post">
        <div class="title">...</div>
        <div class="body">...</div>
        <div class="comments">...</div>
    </div>
</div>

<div id="sidebar">
    <div class="widget">...</div>
</div>

<div id="footer">
    <div class="copyright">...</div>
</div></code></pre>
                            </div>

                            <p>This approach created several problems:</p>
                            <ul>
                                <li><strong>Accessibility</strong>: Screen readers couldn't understand the structure</li>
                                <li><strong>SEO</strong>: Search engines struggled to identify important content</li>
                                <li><strong>Maintainability</strong>: Hard to read and modify</li>
                                <li><strong>Styling</strong>: Required complex CSS selectors like <code>#content .post .title</code></li>
                            </ul>

                            <p>HTML5 solved this by introducing semantic elements that carry meaning:</p>

                            <div class="example-box">
                                <pre><code><!-- ✅ Modern HTML5: Semantic and clean -->
<header>
    <h1>Logo</h1>
    <nav>...</nav>
</header>

<main>
    <article>
        <h2>Title</h2>
        <p>Content</p>
        <section>Comments</section>
    </article>
</main>

<aside>Sidebar content</aside>

<footer>Copyright info</footer></code></pre>
                            </div>

                            <p>Modern browsers automatically recognize these elements and apply default styling. Screen readers announce them as "header", "navigation", "main content", etc.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Deep Dive: Accessibility & SEO Benefits</summary>
                        <div>
                            <h4>Accessibility Impact</h4>
                            <p>Screen readers use semantic elements to navigate content. Here's how:</p>

                            <div class="example-box">
                                <pre><code><!-- ✅ Good: Screen reader announces "Navigation" -->
<nav>
    <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
    </ul>
</nav>

<!-- ❌ Bad: Screen reader says "List" with no context -->
<div class="menu">
    <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
    </ul>
</div></code></pre>
                            </div>

                            <p>Users can jump directly between sections using keyboard shortcuts.</p>

                            <h4>SEO Benefits</h4>
                            <p>Search engines prioritize semantic structure:</p>

                            <div class="example-box">
                                <pre><code><!-- ✅ Good: Search engine understands this is primary content -->
<main>
    <article>
        <h1>How to Learn JavaScript</h1>
        <p>This comprehensive guide teaches you JavaScript fundamentals...</p>
    </article>
</main>

<!-- ❌ Bad: Search engine doesn't know what's most important -->
<div class="content">
    <div class="article">
        <h1>How to Learn JavaScript</h1>
        <p>This comprehensive guide teaches you JavaScript fundamentals...</p>
    </div>
</div></code></pre>
                            </div>

                            <p>Google's algorithm favors pages with clear hierarchy. Using semantic elements helps search engines determine content importance.</p>

                            <h4>Code Maintainability</h4>
                            <p>Imagine you're new to a project:</p>

                            <div class="example-box">
                                <pre><code><!-- ❌ Confusing: What is this div? -->
<div class="module">
    <div class="card">
        <div class="title">Latest News</div>
        <div class="content">...</div>
    </div>
</div>

<!-- ✅ Clear: Immediate understanding -->
<section>
    <h2>Latest News</h2>
    <article>...</article>
</section></code></pre>
                            </div>

                            <p>Semantic elements make code self-documenting. Anyone can understand the structure without reading comments or CSS.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Practical Examples: Real-World Implementation</summary>
                        <div>
                            <h4>1. Blog Page Structure</h4>
                            <div class="example-box">
                                <pre><code><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tech Blog</title>
</head>
<body>
    <header>
        <h1>Tech Blog</h1>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/articles">Articles</a></li>
                <li><a href="/about">About</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <article>
            <header>
                <h2>JavaScript Async/Await Explained</h2>
                <p>By Alice Johnson • Published: March 15, 2024</p>
            </header>
            
            <p>Async/await makes handling promises easier...</p>
            
            <section>
                <h3>Why Use Async/Await?</h3>
                <p>It eliminates callback hell...</p>
            </section>
            
            <section>
                <h3>Common Mistakes</h3>
                <p>Don't forget to use try/catch...</p>
            </section>
            
            <footer>
                <p>Tags: <a href="/tags/javascript">JavaScript</a>, <a href="/tags/async">Async</a></p>
            </footer>
        </article>
        
        <aside>
            <h3>Popular Posts</h3>
            <ul>
                <li><a href="#">CSS Grid Tutorial</a></li>
                <li><a href="#">React Hooks Guide</a></li>
            </ul>
        </aside>
    </main>

    <footer>
        <p>&amp;copy; 2024 Tech Blog. All rights reserved.</p>
    </footer>
</body>
</html></code></pre>
                            </div>

                            <h4>2. E-commerce Product Page</h4>
                            <div class="example-box">
                                <pre><code><!-- Product page structure -->
<main>
    <article>
        <header>
            <h1>Wireless Noise-Canceling Headphones</h1>
            <p class="price">$199.99</p>
        </header>
        
        <section aria-label="Product description">
            <h2>Description</h2>
            <p>Experience crystal-clear sound with advanced noise cancellation technology...</p>
        </section>
        
        <section aria-label="Features">
            <h2>Features</h2>
            <ul>
                <li>Battery life: 30 hours</li>
                <li>Noise cancellation: Active</li>
                <li>Connectivity: Bluetooth 5.3</li>
            </ul>
        </section>
        
        <aside aria-label="Related products">
            <h3>You might also like</h3>
            <ul>
                <li><a href="#">Smart Speakers</a></li>
                <li><a href="#">Wireless Earbuds</a></li>
            </ul>
        </aside>
    </article>
</main></code></pre>
                            </div>

                            <p><strong>Pro Tip:</strong> Always include <code>aria-label</code> attributes for screen readers when semantic elements aren't enough to convey purpose.</p>
                        </div>
                    </details>
                </section>

                <!-- Section 3.2 -->
                <section id="section-3-2">
                    <h2>3.2 CSS Flexbox and Grid</h2>
                    <p>Modern layout systems that solve decades of CSS positioning challenges with intuitive, responsive design tools.</p>

                    <details>
                        <summary>Executive Summary</summary>
                        <div>
                            <ul>
                                <li><strong>Flexbox</strong>: One-dimensional layout — perfect for components and navigation</li>
                                <li><strong>CSS Grid</strong>: Two-dimensional layout — ideal for page layouts and complex designs</li>
                                <li>Both eliminate floats and hacks like <code>display: inline-block</code></li>
                                <li>Responsive by default — no need for media queries for basic layouts</li>
                            </ul>
                            <p class="highlight">Use Flexbox for components, Grid for page layouts. They complement each other perfectly.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Forensic Detail: Flexbox Deep Dive</summary>
                        <div>
                            <p>Flexbox works along a single axis (row or column). Key concepts:</p>

                            <div class="example-box">
                                <pre><code><!-- HTML -->
<div class="flex-container">
    <div class="flex-item">Item 1</div>
    <div class="flex-item">Item 2</div>
    <div class="flex-item">Item 3</div>
</div></code></pre>
                            </div>

                            <div class="example-box">
                                <pre><code>/* CSS: Basic Flexbox */
.flex-container {
    display: flex;
    gap: 10px; /* Space between items */
}

/* Direction control */
.flex-container {
    flex-direction: row;      /* Default: horizontal */
    flex-direction: column;   /* Vertical */
}

/* Alignment */
.flex-container {
    justify-content: flex-start;   /* Horizontal alignment */
    justify-content: center;
    justify-content: space-between; /* Even spacing */
    justify-content: space-around;
    
    align-items: stretch;          /* Vertical alignment */
    align-items: center;
    align-items: flex-end;
}

/* Individual item control */
.flex-item {
    flex: 1;             /* Grow to fill available space */
    flex: 0 0 200px;     /* Don't grow, don't shrink, fixed width */
    flex: 2;             /* Take twice as much space as others */
}</code></pre>
                            </div>

                            <h4>Visual Example: Navigation Bar</h4>
                            <div class="demo-container">
                                <div class="flex-container">
                                    <div class="flex-item">Home</div>
                                    <div class="flex-item">Products</div>
                                    <div class="flex-item">Services</div>
                                    <div class="flex-item">Contact</div>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>.navbar {
    display: flex;
    justify-content: space-between; /* Items at edges */
    align-items: center;           /* Vertically centered */
    padding: 1rem;
    background-color: #1a2a40;
}

.logo {
    font-size: 1.5rem;
    font-weight: bold;
}

.nav-links {
    display: flex;
    gap: 1.5rem;
}

.nav-links a {
    color: var(--cyan);
    text-decoration: none;
}</code></pre>
                            </div>

                            <h4>Real-World Flexbox Use Cases</h4>
                            <ul>
                                <li>Navigation menus</li>
                                <li>Card layouts</li>
                                <li>Form fields and labels</li>
                                <li>Button groups</li>
                                <li>Hero sections with text and buttons</li>
                            </ul>
                        </div>
                    </details>

                    <details>
                        <summary>Forensic Detail: CSS Grid Deep Dive</summary>
                        <div>
                            <p>CSS Grid creates two-dimensional layouts with rows and columns.</p>

                            <div class="example-box">
                                <pre><code><!-- HTML -->
<div class="grid-container">
    <div class="grid-item">Header</div>
    <div class="grid-item">Sidebar</div>
    <div class="grid-item">Main Content</div>
    <div class="grid-item">Footer</div>
</div></code></pre>
                            </div>

                            <div class="example-box">
                                <pre><code>/* CSS: Basic Grid */
.grid-container {
    display: grid;
    grid-template-columns: 200px 1fr;        /* 200px sidebar, rest to content */
    grid-template-rows: auto 1fr auto;       /* Header, content, footer */
    gap: 15px;
}

/* Explicit placement */
.grid-container {
    grid-template-areas:
        "header header"
        "sidebar main"
        "footer footer";
}

.header { grid-area: header; }
.sidebar { grid-area: sidebar; }
.main { grid-area: main; }
.footer { grid-area: footer; }

/* Responsive grid */
@media (max-width: 768px) {
    .grid-container {
        grid-template-columns: 1fr; /* Single column on mobile */
        grid-template-areas:
            "header"
            "main"
            "footer";
    }
}</code></pre>
                            </div>

                            <h4>Visual Example: Responsive Layout</h4>
                            <div class="demo-container">
                                <div class="grid-container">
                                    <div class="grid-item">Header</div>
                                    <div class="grid-item">Sidebar</div>
                                    <div class="grid-item">Main Content</div>
                                    <div class="grid-item">Footer</div>
                                </div>
                            </div>

                            <h4>Grid Template Properties</h4>
                            <table class="table table-dark table-striped mt-3">
                                <thead>
                                    <tr>
                                        <th>Property</th>
                                        <th>Description</th>
                                        <th>Example</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>grid-template-columns</code></td>
                                        <td>Define column widths</td>
                                        <td><code>1fr 2fr 1fr</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>grid-template-rows</code></td>
                                        <td>Define row heights</td>
                                        <td><code>auto 1fr auto</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>grid-gap</code></td>
                                        <td>Space between grid cells</td>
                                        <td><code>10px</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>grid-column</code></td>
                                        <td>Span multiple columns</td>
                                        <td><code>1 / 3</code> (start/end)</td>
                                    </tr>
                                    <tr>
                                        <td><code>grid-row</code></td>
                                        <td>Span multiple rows</td>
                                        <td><code>2 / 4</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>grid-template-areas</code></td>
                                        <td>Name areas for intuitive layout</td>
                                        <td><code>"header header"</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>repeat()</code></td>
                                        <td>Repeat pattern</td>
                                        <td><code>repeat(3, 1fr)</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>minmax()</code></td>
                                        <td>Min/max size</td>
                                        <td><code>minmax(200px, 1fr)</code></td>
                                    </tr>
                                </tbody>
                            </table>

                            <h4>Real-World Grid Use Cases</h4>
                            <ul>
                                <li>Page layouts (header, sidebar, main, footer)</li>
                                <li>Image galleries</li>
                                <li>Dashboard widgets</li>
                                <li>Product grids</li>
                                <li>Complex forms</li>
                            </ul>
                        </div>
                    </details>

                    <details>
                        <summary>Origin Story: The Float Era</summary>
                        <div>
                            <p>Before Flexbox and Grid, we used floats and hacks:</p>

                            <div class="example-box">
                                <pre><code><!-- ❌ Pre-Flexbox: Float-based layout -->
<div class="container">
    <div class="sidebar" style="float: left; width: 200px;">Sidebar</div>
    <div class="content" style="margin-left: 200px;">Content</div>
</div>

<!-- Need clearfix hack -->
.container::after {
    content: "";
    display: table;
    clear: both;
}</code></pre>
                            </div>

                            <p>Problems with this approach:</p>
                            <ul>
                                <li>Floats were designed for text wrapping around images, not layout</li>
                                <li>Required complex calculations for responsive designs</li>
                                <li>Centering was impossible without workarounds</li>
                                <li>Equal height columns required JavaScript</li>
                                <li>Breakpoints needed constant tweaking</li>
                            </ul>

                            <p>Flexbox and Grid solved these issues completely:</p>

                            <div class="example-box">
                                <pre><code><!-- ✅ Modern: Clean, responsive, intuitive -->
<div class="container" style="display: flex;">
    <div class="sidebar" style="width: 200px;">Sidebar</div>
    <div class="content" style="flex: 1;">Content</div>
</div>

<!-- Or with Grid -->
<div class="container" style="display: grid; grid-template-columns: 200px 1fr;">
    <div class="sidebar">Sidebar</div>
    <div class="content">Content</div>
</div></code></pre>
                            </div>

                            <p>The shift from float-based layouts to Flexbox/Grid represents one of the biggest improvements in web development history — making complex layouts accessible to everyone.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Deep Dive: Flexbox vs Grid - When to Use Which?</summary>
                        <div>
                            <h4>Choose Flexbox When:</h4>
                            <ul>
                                <li>Arranging items in a single row or column</li>
                                <li>Need to distribute space evenly</li>
                                <li>Centering content vertically/horizontally</li>
                                <li>Creating navigation bars, button groups, card layouts</li>
                                <li>Items have different sizes</li>
                            </ul>

                            <div class="example-box">
                                <pre><code><!-- Flexbox: Perfect for a navigation bar -->
<nav style="display: flex; justify-content: space-between; align-items: center;">
    <div class="logo">Logo</div>
    <ul style="display: flex; gap: 20px;">
        <li><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Contact</a></li>
    </ul>
</nav></code></pre>
                            </div>

                            <h4>Choose Grid When:</h4>
                            <ul>
                                <li>Creating a two-dimensional layout</li>
                                <li>Need precise control over rows and columns</li>
                                <li>Building page layouts with headers, sidebars, footers</li>
                                <li>Creating image galleries or product grids</li>
                                <li>Overlapping elements</li>
                            </ul>

                            <div class="example-box">
                                <pre><code><!-- Grid: Perfect for a dashboard layout -->
<div style="display: grid; 
           grid-template-columns: 200px 1fr;
           grid-template-rows: auto 1fr auto;
           gap: 15px;">
    <header>Header</header>
    <aside>Sidebar</aside>
    <main>Main Content</main>
    <footer>Footer</footer>
</div></code></pre>
                            </div>

                            <h4>Best Practice: Combine Them!</h4>
                            <p>Use Grid for overall page structure, Flexbox for component layout:</p>

                            <div class="example-box">
                                <pre><code><!-- Page structure with Grid -->
<body style="display: grid; 
             grid-template-columns: 250px 1fr;
             grid-template-rows: auto 1fr auto;
             min-height: 100vh;">
    
    <header>Header</header>
    
    <aside>Sidebar</aside>
    
    <main style="display: flex; flex-direction: column;">
        <header style="display: flex; justify-content: space-between; align-items: center;">
            <h1>Page Title</h1>
            <button>Action</button>
        </header>
        
        <section style="display: grid; 
                       grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
                       gap: 20px;">
            <article>Card 1</article>
            <article>Card 2</article>
            <article>Card 3</article>
        </section>
    </main>
    
    <footer>Footer</footer>
</body></code></pre>
                            </div>

                            <p><strong>Rule of Thumb:</strong> If you're thinking "I want this item to be next to that one," use Flexbox. If you're thinking "I want this item to be here and that item to be there," use Grid.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Practical Examples: Real-World Applications</summary>
                        <div>
                            <h4>1. Responsive Card Grid</h4>
                            <div class="demo-container">
                                <div class="grid-container">
                                    <div class="grid-item">Card 1</div>
                                    <div class="grid-item">Card 2</div>
                                    <div class="grid-item">Card 3</div>
                                    <div class="grid-item">Card 4</div>
                                    <div class="grid-item">Card 5</div>
                                    <div class="grid-item">Card 6</div>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.card-item {
    background-color: #1a2a40;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid rgba(0, 209, 255, 0.2);
    text-align: center;
}</code></pre>
                            </div>

                            <p><strong>Auto-fit + Minmax:</strong> This creates responsive cards that adjust based on screen size — perfect for e-commerce product grids!</p>

                            <h4>2. Hero Section with Text and Button</h4>
                            <div class="demo-container">
                                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 40px; background-color: #1a2a40; border-radius: 10px; color: white;">
                                    <h2 style="margin-bottom: 20px;">Welcome to Our Platform</h2>
                                    <p style="margin-bottom: 30px; max-width: 600px;">Learn modern web development with practical examples and real-world applications.</p>
                                    <button style="background-color: var(--amber); color: #000; border: none; padding: 12px 24px; border-radius: 6px; font-weight: bold; cursor: pointer;">Get Started</button>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>.hero-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 40px;
    background-color: #1a2a40;
    border-radius: 10px;
    color: white;
}

.hero-section h2 {
    margin-bottom: 20px;
}

.hero-section p {
    margin-bottom: 30px;
    max-width: 600px;
}

.hero-section button {
    background-color: var(--amber);
    color: #000;
    border: none;
    padding: 12px 24px;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
}</code></pre>
                            </div>

                            <h4>3. Dashboard Layout</h4>
                            <div class="demo-container" style="height: 400px; display: grid; grid-template-columns: 200px 1fr; grid-template-rows: 60px 1fr 50px; gap: 10px; background-color: #1a2a40; border-radius: 8px; color: white;">
                                <div style="grid-column: 1 / 3; background-color: rgba(0, 209, 255, 0.2); padding: 10px;">Header</div>
                                <div style="background-color: rgba(0, 209, 255, 0.1); padding: 10px;">Sidebar</div>
                                <div style="background-color: rgba(0, 209, 255, 0.1); padding: 10px;">Main Content</div>
                                <div style="grid-column: 1 / 3; background-color: rgba(0, 209, 255, 0.2); padding: 10px;">Footer</div>
                            </div>

                            <div class="example-box">
                                <pre><code>.dashboard {
    display: grid;
    grid-template-columns: 200px 1fr;
    grid-template-rows: 60px 1fr 50px;
    gap: 10px;
    height: 400px;
}

.dashboard header {
    grid-column: 1 / 3;
}

.dashboard aside {
    background-color: rgba(0, 209, 255, 0.1);
}

.dashboard main {
    background-color: rgba(0, 209, 255, 0.1);
}

.dashboard footer {
    grid-column: 1 / 3;
}</code></pre>
                            </div>
                        </div>
                    </details>
                </section>

                <!-- Section 3.3 -->
                <section id="section-3-3">
                    <h2>3.3 CSS Variables and Modern Features</h2>
                    <p>Modern CSS features that make styling more maintainable, dynamic, and powerful than ever before.</p>

                    <details>
                        <summary>Executive Summary</summary>
                        <div>
                            <ul>
                                <li><strong>CSS Custom Properties</strong> (<code>--variable-name</code>): Store reusable values</li>
                                <li><strong>calc()</strong>: Perform calculations in CSS</li>
                                <li><strong>clamp()</strong>: Set responsive values with min/max/ideal</li>
                                <li><strong>gap</strong>: Spacing between grid/flex items</li>
                                <li><strong>aspect-ratio</strong>: Control element proportions</li>
                            </ul>
                            <p class="highlight">CSS variables transform static styles into dynamic, themeable systems — essential for modern web design.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Forensic Detail: CSS Variables Deep Dive</summary>
                        <div>
                            <p>CSS variables (custom properties) store values that can be reused throughout your stylesheet.</p>

                            <div class="example-box">
                                <pre><code>/* Define variables in :root (global scope) */
:root {
    --primary-color: #00d1ff;
    --secondary-color: #ffb74d;
    --text-color: #e6f1ff;
    --bg-color: #0a192f;
    --border-radius: 8px;
    --spacing-unit: 16px;
    --font-size-base: 16px;
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
}

/* Use variables anywhere */
.button {
    background-color: var(--primary-color);
    color: white;
    padding: calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 1.5);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-sm);
}

.card {
    background-color: var(--bg-color);
    border: 1px solid var(--primary-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-unit);
    box-shadow: var(--shadow-md);
}</code></pre>
                            </div>

                            <p><strong>Key Advantages:</strong></p>
                            <ul>
                                <li><strong>Single source of truth</strong>: Change one variable → update everywhere</li>
                                <li><strong>Dynamic theming</strong>: Change colors with JavaScript</li>
                                <li><strong>Readable code</strong>: <code>var(--primary-color)</code> is clearer than hex codes</li>
                                <li><strong>Inheritance</strong>: Variables cascade like regular CSS properties</li>
                            </ul>

                            <h4>Scoped Variables</h4>
                            <div class="example-box">
                                <pre><code>/* Different themes */
.theme-dark {
    --bg-color: #0a192f;
    --text-color: #e6f1ff;
    --primary-color: #00d1ff;
}

.theme-light {
    --bg-color: #f8f9fa;
    --text-color: #212529;
    --primary-color: #007bff;
}

/* Now change entire theme with one class */
body.theme-light .card {
    /* Automatically uses light theme variables */
}</code></pre>
                            </div>
                        </div>
                    </details>

                    <details>
                        <summary>Origin Story: The CSS Mess</summary>
                        <div>
                            <p>Before CSS variables, changing a theme meant editing hundreds of lines:</p>

                            <div class="example-box">
                                <pre><code>/* ❌ Before CSS Variables */
.button {
    background-color: #00d1ff;
    color: white;
    padding: 8px 24px;
    border-radius: 8px;
}

.card {
    background-color: #0a192f;
    border: 1px solid #00d1ff;
    border-radius: 8px;
    padding: 16px;
}

.modal {
    background-color: #0a192f;
    border: 1px solid #00d1ff;
    border-radius: 8px;
    padding: 16px;
}

/* To change primary color, you'd need to find and replace ALL instances!
#00d1ff → #ff6b6b
#0a192f → #ffffff
etc. */</code></pre>
                            </div>

                            <p>With CSS variables, it's simple:</p>

                            <div class="example-box">
                                <pre><code>/* ✅ With CSS Variables */
:root {
    --primary-color: #00d1ff;
    --bg-color: #0a192f;
    --border-radius: 8px;
    --spacing-unit: 16px;
}

.button {
    background-color: var(--primary-color);
    padding: calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 1.5);
    border-radius: var(--border-radius);
}

.card, .modal {
    background-color: var(--bg-color);
    border: 1px solid var(--primary-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-unit);
}

/* Change theme with one line of JavaScript! */
document.documentElement.style.setProperty('--primary-color', '#ff6b6b');</code></pre>
                            </div>

                            <p><strong>Real Impact:</strong> Design systems like Tailwind CSS, Bootstrap 5, and Material UI rely entirely on CSS variables for their theming capabilities.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Deep Dive: Modern CSS Functions</summary>
                        <div>
                            <h4>1. calc() - Mathematical Calculations</h4>
                            <div class="example-box">
                                <pre><code>.container {
    width: calc(100% - 40px); /* Subtract padding */
    padding: calc(var(--spacing-unit) * 0.75);
    font-size: calc(1rem + 0.5vw); /* Responsive font size */
}

/* Complex calculation */
.hero-image {
    height: calc(100vh - 120px); /* Full viewport minus header/footer */
}</code></pre>
                            </div>

                            <h4>2. clamp() - Responsive Values</h4>
                            <div class="example-box">
                                <pre><code>/* Minimum | Preferred | Maximum */
h1 {
    font-size: clamp(1.5rem, 5vw, 3rem);
}

/* This means:
- At small screens: minimum 1.5rem
- At medium screens: scales proportionally (5vw)
- At large screens: maximum 3rem */

/* Perfect for typography */
p {
    font-size: clamp(0.9rem, 2.5vw, 1.2rem);
    line-height: clamp(1.4, 1.5vw, 1.8);
}</code></pre>
                            </div>

                            <h4>3. gap - Spacing Between Items</h4>
                            <div class="example-box">
                                <pre><code>.grid-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px; /* Replaces margin/padding hacks */
}

.flex-container {
    display: flex;
    gap: 15px; /* Much cleaner than margin: 0 15px */
}</code></pre>
                            </div>

                            <h4>4. aspect-ratio - Maintain Proportions</h4>
                            <div class="example-box">
                                <pre><code>.video-container {
    aspect-ratio: 16 / 9; /* Maintains 16:9 ratio regardless of width */
    background-color: #1a2a40;
}

.image-card {
    aspect-ratio: 4 / 3;
    background-color: #1a2a40;
    border-radius: 8px;
}</code></pre>
                            </div>

                            <h4>5. env() and constant() - Safe Environment Variables</h4>
                            <div class="example-box">
                                <pre><code>/* iOS safe area insets */
.safe-area {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) 
             env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* For older devices */
padding: constant(safe-area-inset-top) constant(safe-area-inset-right) 
         constant(safe-area-inset-bottom) constant(safe-area-inset-left);</code></pre>
                            </div>
                        </div>
                    </details>

                    <details>
                        <summary>Deep Dive: Advanced Variable Patterns</summary>
                        <div>
                            <h4>1. Theme System with Multiple Levels</h4>
                            <div class="example-box">
                                <pre><code>:root {
    /* Base colors */
    --color-primary: #00d1ff;
    --color-secondary: #ffb74d;
    --color-text: #e6f1ff;
    --color-bg: #0a192f;
    
    /* Shades */
    --color-primary-light: #00bfff;
    --color-primary-dark: #00a3d9;
    --color-secondary-light: #ffcb80;
    --color-secondary-dark: #e09b3a;
    
    /* Typography */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.25rem;
    --font-size-xl: 1.5rem;
    --font-size-xxl: 2rem;
    
    /* Spacing */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    
    /* Borders */
    --border-radius-sm: 4px;
    --border-radius-md: 8px;
    --border-radius-lg: 16px;
    
    /* Shadows */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.1);
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.2);
}

/* Dark theme override */
[data-theme="dark"] {
    --color-bg: #0a192f;
    --color-text: #e6f1ff;
    --color-primary: #00d1ff;
    --color-secondary: #ffb74d;
}

/* Light theme override */
[data-theme="light"] {
    --color-bg: #f8f9fa;
    --color-text: #212529;
    --color-primary: #007bff;
    --color-secondary: #fd7e14;
}</code></pre>
                            </div>

                            <h4>2. Dynamic Theme Switcher with JavaScript</h4>
                            <div class="example-box">
                                <pre><code><!-- HTML -->
<button id="theme-toggle">Toggle Theme</button>

<script>
const themeToggle = document.getElementById('theme-toggle');
const currentTheme = localStorage.getItem('theme') || 'dark';

// Apply saved theme
document.documentElement.setAttribute('data-theme', currentTheme);

themeToggle.addEventListener('click', () => {
    const current = document.documentElement.getAttribute('data-theme');
    const newTheme = current === 'dark' ? 'light' : 'dark';
    
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
});
</script></code></pre>
                            </div>

                            <h4>3. Color Scheme with HSL for Easy Adjustments</h4>
                            <div class="example-box">
                                <pre><code>:root {
    /* HSL allows easy adjustment of hue, saturation, lightness */
    --hue-primary: 195;
    --saturation-primary: 100%;
    --lightness-primary: 75%;
    
    --hue-secondary: 40;
    --saturation-secondary: 100%;
    --lightness-secondary: 70%;
    
    /* Create colors from HSL */
    --primary-color: hsl(var(--hue-primary), var(--saturation-primary), var(--lightness-primary));
    --primary-color-hover: hsl(var(--hue-primary), var(--saturation-primary), calc(var(--lightness-primary) - 10%));
    --primary-color-active: hsl(var(--hue-primary), var(--saturation-primary), calc(var(--lightness-primary) - 20%));
    
    --secondary-color: hsl(var(--hue-secondary), var(--saturation-secondary), var(--lightness-secondary));
}</code></pre>
                            </div>

                            <p><strong>Why HSL?</strong> Changing one variable changes the entire color scheme while maintaining harmony!</p>
                        </div>
                    </details>

                    <details>
                        <summary>Practical Examples: Real-World Applications</summary>
                        <div>
                            <h4>1. Responsive Card Component</h4>
                            <div class="demo-container" style="height: 250px; display: flex; flex-direction: column; background-color: #1a2a40; border-radius: 8px; overflow: hidden; color: white;">
                                <div style="flex: 1; padding: 20px; display: flex; flex-direction: column; justify-content: space-between;">
                                    <div>
                                        <h3 style="margin: 0 0 10px 0; font-size: clamp(1.2rem, 4vw, 1.8rem);">Card Title</h3>
                                        <p style="margin: 0; opacity: 0.9; font-size: clamp(0.8rem, 2.5vw, 1rem);">This card adapts beautifully across all device sizes with modern CSS functions.</p>
                                    </div>
                                    <button style="background-color: var(--primary-color); color: white; border: none; padding: 10px 15px; border-radius: 6px; font-weight: bold; cursor: pointer;">Learn More</button>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>.responsive-card {
    display: flex;
    flex-direction: column;
    background-color: var(--bg-color);
    border-radius: var(--border-radius-md);
    overflow: hidden;
    color: var(--text-color);
    height: 250px;
}

.responsive-card h3 {
    margin: 0 0 10px 0;
    font-size: clamp(1.2rem, 4vw, 1.8rem); /* Responsive heading */
}

.responsive-card p {
    margin: 0;
    opacity: 0.9;
    font-size: clamp(0.8rem, 2.5vw, 1rem); /* Responsive paragraph */
}

.responsive-card button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    margin-top: auto; /* Push to bottom */
}</code></pre>
                            </div>

                            <h4>2. Photo Gallery with Aspect Ratio</h4>
                            <div class="demo-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; height: 400px; background-color: #1a2a40; border-radius: 8px; padding: 15px;">
                                <div style="aspect-ratio: 3 / 2; background-color: #1a2a40; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white;">Image 1</div>
                                <div style="aspect-ratio: 4 / 3; background-color: #1a2a40; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white;">Image 2</div>
                                <div style="aspect-ratio: 1 / 1; background-color: #1a2a40; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white;">Image 3</div>
                                <div style="aspect-ratio: 16 / 9; background-color: #1a2a40; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white;">Image 4</div>
                            </div>

                            <div class="example-box">
                                <pre><code>.photo-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.photo-item {
    aspect-ratio: 3 / 2; /* Maintains consistent shape */
    background-color: var(--bg-color);
    border-radius: var(--border-radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-color);
    font-weight: bold;
    overflow: hidden;
}

/* Override specific items */
.photo-item.large {
    aspect-ratio: 16 / 9;
}

.photo-item.square {
    aspect-ratio: 1 / 1;
}</code></pre>
                            </div>

                            <h4>3. Dynamic Form with Consistent Spacing</h4>
                            <div class="demo-container" style="display: flex; flex-direction: column; gap: 15px; background-color: #1a2a40; border-radius: 8px; padding: 20px; color: white;">
                                <div>
                                    <label style="margin-bottom: 5px; display: block;">Name</label>
                                    <input type="text" style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--primary-color); background-color: #0f1e33; color: white;">
                                </div>
                                <div>
                                    <label style="margin-bottom: 5px; display: block;">Email</label>
                                    <input type="email" style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--primary-color); background-color: #0f1e33; color: white;">
                                </div>
                                <div>
                                    <label style="margin-bottom: 5px; display: block;">Message</label>
                                    <textarea style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--primary-color); background-color: #0f1e33; color: white; resize: vertical; min-height: 100px;"></textarea>
                                </div>
                                <button style="background-color: var(--primary-color); color: white; border: none; padding: 12px; border-radius: 6px; font-weight: bold; cursor: pointer;">Submit</button>
                            </div>

                            <div class="example-box">
                                <pre><code>.form-group {
    margin-bottom: var(--space-md);
}

.form-group label {
    display: block;
    margin-bottom: var(--space-xs);
}

.form-group input,
.form-group textarea {
    width: 100%;
    padding: var(--space-md);
    border-radius: var(--border-radius-md);
    border: 1px solid var(--primary-color);
    background-color: #0f1e33;
    color: var(--text-color);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

.form-submit {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: var(--space-md);
    border-radius: var(--border-radius-md);
    font-weight: bold;
    cursor: pointer;
    font-size: clamp(1rem, 1.5vw, 1.2rem);
}</code></pre>
                            </div>
                        </div>
                    </details>
                </section>

                <!-- Section 3.4 -->
                <section id="section-3-4">
                    <h2>3.4 DOM Manipulation Basics</h2>
                    <p>Interact with web pages dynamically by selecting, creating, modifying, and removing elements.</p>

                    <details>
                        <summary>Executive Summary</summary>
                        <div>
                            <ul>
                                <li><strong>DOM</strong>: Document Object Model — tree representation of HTML</li>
                                <li><strong>Select elements</strong>: <code>querySelector()</code>, <code>querySelectorAll()</code></li>
                                <li><strong>Create elements</strong>: <code>createElement()</code></li>
                                <li><strong>Modify content</strong>: <code>textContent</code>, <code>innerHTML</code></li>
                                <li><strong>Modify attributes</strong>: <code>setAttribute()</code>, <code>getAttribute()</code></li>
                                <li><strong>Modify classes</strong>: <code>classList.add()</code>, <code>remove()</code>, <code>toggle()</code></li>
                            </ul>
                            <p class="highlight">The DOM is your interface to the web page — manipulate it to create interactive experiences.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Forensic Detail: Element Selection Methods</summary>
                        <div>
                            <p>Four ways to select elements:</p>

                            <div class="example-box">
                                <pre><code><!-- HTML -->
<div id="app">
    <h1 class="title">Hello World</h1>
    <p class="description">This is a paragraph.</p>
    <button id="btn">Click me</button>
    <div class="item">Item 1</div>
    <div class="item">Item 2</div>
    <div class="item">Item 3</div>
</div></code></pre>
                            </div>

                            <h4>1. getElementById() — Single Element</h4>
                            <div class="example-box">
                                <pre><code>// Get single element by ID
const app = document.getElementById('app');
const btn = document.getElementById('btn');

console.log(app); // <div id="app">...</code></pre>
                            </div>

                            <h4>2. getElementsByClassName() — HTMLCollection</h4>
                            <div class="example-box">
                                <pre><code>// Get multiple elements by class
const items = document.getElementsByClassName('item');
console.log(items.length); // 3
console.log(items[0]); // First .item

// Convert to array for array methods
const itemsArray = Array.from(items);
itemsArray.forEach(item => console.log(item.textContent));</code></pre>
                            </div>

                            <h4>3. getElementsByTagName() — HTMLCollection</h4>
                            <div class="example-box">
                                <pre><code>// Get all elements by tag name
const paragraphs = document.getElementsByTagName('p');
const divs = document.getElementsByTagName('div');

console.log(paragraphs.length); // 1
console.log(divs.length); // 4 (including #app and .item elements)</code></pre>
                            </div>

                            <h4>4. querySelector() & querySelectorAll() — CSS Selectors</h4>
                            <div class="example-box">
                                <pre><code>// ✅ Modern way: Use CSS selectors
const title = document.querySelector('.title'); // First matching element
const btn = document.querySelector('#btn'); // Same as getElementById
const items = document.querySelectorAll('.item'); // All matching elements

// Complex selectors
const firstItem = document.querySelector('.item:first-child');
const lastItem = document.querySelector('.item:last-child');
const evenItems = document.querySelectorAll('.item:nth-child(even)');

console.log(title.textContent); // "Hello World"
console.log(items.length); // 3</code></pre>
                            </div>

                            <p><strong>Recommendation:</strong> Always use <code>querySelector()</code> and <code>querySelectorAll()</code> — they're more powerful and consistent with CSS syntax.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Origin Story: The DOM Tree Concept</summary>
                        <div>
                            <p>Think of the DOM as a family tree:</p>

                            <div class="example-box">
                                <pre><code><html>
    <head>
        <title>My Page</title>
    </head>
    <body>
        <div id="app">
            <h1>Welcome</h1>
            <p>Hello world</p>
            <button>Click me</button>
        </div>
    </body>
</html></code></pre>
                            </div>

                            <p>As a tree structure:</p>
                            <pre>
html
├── head
│   └── title
└── body
    └── div#app
        ├── h1
        ├── p
        └── button
                            </pre>

                            <p>Each node has properties:</p>
                            <ul>
                                <li><strong>parentNode</strong>: Parent element</li>
                                <li><strong>childNodes</strong>: All children</li>
                                <li><strong>firstChild</strong>, <strong>lastChild</strong></li>
                                <li><strong>nextSibling</strong>, <strong>previousSibling</strong></li>
                                <li><strong>children</strong>: Only element children (not text nodes)</li>
                            </ul>

                            <div class="example-box">
                                <pre><code>// Navigate the DOM tree
const app = document.getElementById('app');

console.log(app.parentNode); // body
console.log(app.children); // [h1, p, button]
console.log(app.firstElementChild); // h1
console.log(app.lastElementChild); // button

// Find parent of button
const btn = document.querySelector('button');
console.log(btn.parentElement); // #app</code></pre>
                            </div>

                            <p><strong>Why This Matters:</strong> Understanding the DOM tree lets you navigate and manipulate elements efficiently — crucial for building dynamic interfaces.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Deep Dive: Creating and Modifying Elements</summary>
                        <div>
                            <h4>1. Creating Elements</h4>
                            <div class="example-box">
                                <pre><code>// Create a new element
const newDiv = document.createElement('div');
newDiv.textContent = 'New content!';
newDiv.className = 'message';

// Add attributes
newDiv.setAttribute('id', 'new-message');
newDiv.setAttribute('data-type', 'info');

// Insert into DOM
const container = document.getElementById('app');
container.appendChild(newDiv); // Add as last child

// Insert before another element
const btn = document.querySelector('button');
container.insertBefore(newDiv, btn); // Insert before button</code></pre>
                            </div>

                            <h4>2. Modifying Content</h4>
                            <div class="example-box">
                                <pre><code>const title = document.querySelector('.title');

// ✅ SAFE: Text content only
title.textContent = 'Updated Title';

// ❌ DANGEROUS: HTML injection risk
title.innerHTML = '<strong>Updated Title</strong> <em>(bold)</em>';

// ✅ SAFE: HTML with trusted content
const html = '<strong>Updated Title</strong>';
title.innerHTML = html;</code></pre>
                            </div>

                            <h4>3. Modifying Classes</h4>
                            <div class="example-box">
                                <pre><code>const btn = document.querySelector('button');

// Add class
btn.classList.add('active');

// Remove class
btn.classList.remove('active');

// Toggle class (add if missing, remove if present)
btn.classList.toggle('active');

// Check if class exists
if (btn.classList.contains('active')) {
    console.log('Button is active!');
}

// Multiple classes at once
btn.classList.add('btn', 'primary', 'large');

// Replace all classes
btn.className = 'btn success'; // Overwrites all existing classes</code></pre>
                            </div>

                            <h4>4. Modifying Attributes</h4>
                            <div class="example-box">
                                <pre><code>const img = document.createElement('img');

// Set attributes
img.setAttribute('src', 'image.jpg');
img.setAttribute('alt', 'Beautiful landscape');
img.setAttribute('width', '300');
img.setAttribute('height', '200');

// Get attributes
const src = img.getAttribute('src');
const alt = img.getAttribute('alt');

// Remove attribute
img.removeAttribute('height');

// Special properties (direct access)
img.src = 'new-image.jpg'; // Same as setAttribute('src', ...)
img.alt = 'New alt text';  // Same as setAttribute('alt', ...)

// Data attributes
img.dataset.type = 'landscape';
img.dataset.category = 'nature';
console.log(img.dataset.type); // "landscape"</code></pre>
                            </div>

                            <p><strong>Pro Tip:</strong> Use <code>dataset</code> for custom data attributes — it's automatically converted from <code>data-*</code> attributes.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Practical Examples: DOM Manipulation in Action</summary>
                        <div>
                            <h4>1. Interactive Todo List</h4>
                            <div class="dom-demo">
                                <div style="margin-bottom: 15px;">
                                    <input type="text" id="todo-input" placeholder="Add a new task..." style="padding: 8px; width: 70%; border: 1px solid #00d1ff; border-radius: 4px; background-color: #0f1e33; color: white;">
                                    <button id="add-btn" class="dom-button">Add Task</button>
                                </div>
                                <ul id="todo-list" style="list-style: none; padding: 0; margin: 0;">
                                    <!-- Tasks will appear here -->
                                </ul>
                            </div>

                            <div class="example-box">
                                <pre><code>// HTML above

// JavaScript
const todoInput = document.getElementById('todo-input');
const addBtn = document.getElementById('add-btn');
const todoList = document.getElementById('todo-list');

// Add task function
function addTask() {
    const text = todoInput.value.trim();
    if (text === '') return;
    
    // Create list item
    const li = document.createElement('li');
    li.className = 'todo-item';
    li.innerHTML = \`<span class="task-text"\${text}</span>
                   <button class="delete-btn" aria-label="Delete task"\>✕</button>\`;
    
    // Add to list
    todoList.appendChild(li);
    
    // Clear input
    todoInput.value = '';
    
    // Focus back on input
    todoInput.focus();
}

// Event listeners
addBtn.addEventListener('click', addTask);

todoInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') addTask();
});

// Delete tasks
todoList.addEventListener('click', function(e) {
    if (e.target.classList.contains('delete-btn')) {
        const li = e.target.closest('li');
        li.remove();
    }
});</code></pre>
                            </div>

                            <h4>2. Dynamic Accordion</h4>
                            <div class="dom-demo">
                                <div class="accordion-item" style="margin-bottom: 10px; border: 1px solid #00d1ff; border-radius: 6px; overflow: hidden;">
                                    <button class="accordion-header" style="width: 100%; padding: 15px; background-color: #1a2a40; color: white; border: none; cursor: pointer; text-align: left; font-weight: bold;">Section 1</button>
                                    <div class="accordion-content" style="padding: 15px; background-color: #0f1e33; display: none;">
                                        Content for section 1
                                    </div>
                                </div>
                                
                                <div class="accordion-item" style="margin-bottom: 10px; border: 1px solid #00d1ff; border-radius: 6px; overflow: hidden;">
                                    <button class="accordion-header" style="width: 100%; padding: 15px; background-color: #1a2a40; color: white; border: none; cursor: pointer; text-align: left; font-weight: bold;">Section 2</button>
                                    <div class="accordion-content" style="padding: 15px; background-color: #0f1e33; display: none;">
                                        Content for section 2
                                    </div>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>// Select all accordion headers
const headers = document.querySelectorAll('.accordion-header');

// Add click event to each
headers.forEach(header => {
    header.addEventListener('click', () => {
        const content = header.nextElementSibling;
        const isOpen = content.style.display === 'block';
        
        // Close all
        document.querySelectorAll('.accordion-content').forEach(c => {
            c.style.display = 'none';
        });
        
        // Open clicked
        if (!isOpen) {
            content.style.display = 'block';
        } else {
            content.style.display = 'none';
        }
    });
});</code></pre>
                            </div>

                            <h4>3. Live Counter with Increment/Decrement</h4>
                            <div class="dom-demo">
                                <div style="text-align: center; padding: 20px; background-color: #1a2a40; border-radius: 8px; margin-bottom: 20px;">
                                    <h2 id="counter-value" style="font-size: 3rem; margin: 10px 0;">0</h2>
                                    <button class="dom-button" id="decrease">Decrease</button>
                                    <button class="dom-button" id="reset">Reset</button>
                                    <button class="dom-button" id="increase">Increase</button>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>// Select elements
const counterValue = document.getElementById('counter-value');
const decreaseBtn = document.getElementById('decrease');
const resetBtn = document.getElementById('reset');
const increaseBtn = document.getElementById('increase');

let count = 0;

// Update display function
function updateDisplay() {
    counterValue.textContent = count;
    
    // Disable buttons based on state
    decreaseBtn.disabled = count <= 0;
    resetBtn.disabled = count === 0;
    
    // Add visual feedback
    if (count > 0) {
        counterValue.style.color = 'var(--cyan)';
    } else {
        counterValue.style.color = 'white';
    }
}

// Event handlers
decreaseBtn.addEventListener('click', () => {
    count--;
    updateDisplay();
});

resetBtn.addEventListener('click', () => {
    count = 0;
    updateDisplay();
});

increaseBtn.addEventListener('click', () => {
    count++;
    updateDisplay();
});

// Initialize
updateDisplay();</code></pre>
                            </div>

                            <h4>4. Dark/Light Mode Toggle</h4>
                            <div class="dom-demo">
                                <div style="text-align: center; padding: 20px; background-color: #1a2a40; border-radius: 8px;">
                                    <h2>Dark/Light Mode Toggle</h2>
                                    <button id="theme-toggle" class="dom-button" style="margin-top: 15px;">Toggle Theme</button>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>// Check user preference
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
const savedTheme = localStorage.getItem('theme');

// Determine initial theme
let currentTheme = savedTheme || (prefersDark ? 'dark' : 'light');
document.documentElement.setAttribute('data-theme', currentTheme);

// Toggle function
document.getElementById('theme-toggle').addEventListener('click', () => {
    currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
    document.documentElement.setAttribute('data-theme', currentTheme);
    localStorage.setItem('theme', currentTheme);
    
    // Optional: Show feedback
    const btn = document.getElementById('theme-toggle');
    btn.textContent = currentTheme === 'dark' ? 'Switch to Light' : 'Switch to Dark';
});</code></pre>
                            </div>
                        </div>
                    </details>
                </section>

                <!-- Section 3.5 -->
                <section id="section-3-5">
                    <h2>3.5 Event Handling in Vanilla JavaScript</h2>
                    <p>Respond to user interactions like clicks, inputs, scrolls, and keyboard events to create dynamic web experiences.</p>

                    <details>
                        <summary>Executive Summary</summary>
                        <div>
                            <ul>
                                <li><strong>Events</strong>: User actions (click, hover, submit) or system events (load, resize)</li>
                                <li><strong>Event Listeners</strong>: <code>addEventListener()</code> attaches handlers</li>
                                <li><strong>Event Object</strong>: Contains event details (<code>e.target</code>, <code>e.type</code>)</li>
                                <li><strong>Event Propagation</strong>: Bubbling (up) vs Capturing (down)</li>
                                <li><strong>Preventing Defaults</strong>: <code>e.preventDefault()</code></li>
                            </ul>
                            <p class="highlight">Events are the foundation of interactivity — master them to build truly dynamic websites.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Forensic Detail: Event Listener Syntax</summary>
                        <div>
                            <p>Three ways to handle events:</p>

                            <div class="example-box">
                                <pre><code><!-- HTML -->
<button id="btn1">Button 1</button>
<button id="btn2">Button 2</button>
<form id="myForm">
    <input type="text" id="input" placeholder="Type something">
    <button type="submit">Submit</button>
</form></code></pre>
                            </div>

                            <h4>1. Inline Events (Avoid)</h4>
                            <div class="example-box">
                                <pre><code><!-- ❌ DON'T DO THIS -->
<button onclick="alert('Clicked!')">Click Me</button>

<input oninput="this.value = this.value.toUpperCase()"></code></pre>
                            </div>

                            <p><strong>Problems:</strong> Mixes HTML and JavaScript, hard to maintain, security risks.</p>

                            <h4>2. Direct Property Assignment</h4>
                            <div class="example-box">
                                <pre><code>// ✅ Works but limited
const btn1 = document.getElementById('btn1');
btn1.onclick = function() {
    alert('Button 1 clicked!');
};

// ❌ Can only assign one handler
btn1.onclick = function() {
    alert('This replaces previous handler!');
};</code></pre>
                            </div>

                            <p><strong>Limitation:</strong> Only one event handler per event type.</p>

                            <h4>3. addEventListener() — Modern Standard</h4>
                            <div class="example-box">
                                <pre><code>// ✅ BEST PRACTICE
const btn1 = document.getElementById('btn1');
const btn2 = document.getElementById('btn2');

btn1.addEventListener('click', function() {
    console.log('Button 1 clicked!');
});

btn2.addEventListener('click', function() {
    console.log('Button 2 clicked!');
});

// Multiple handlers for same element
btn1.addEventListener('click', function() {
    console.log('Another handler for button 1!');
});

// Remove listener
btn1.removeEventListener('click', function() {
    console.log('Handler removed!');
});</code></pre>
                            </div>

                            <p><strong>Advantages:</strong></p>
                            <ul>
                                <li>Multiple handlers allowed</li>
                                <li>Can remove specific handlers</li>
                                <li>Supports capturing phase</li>
                                <li>More flexible and maintainable</li>
                            </ul>
                        </div>
                    </details>

                    <details>
                        <summary>Origin Story: The Event Model Evolution</summary>
                        <div>
                            <p>Early browsers had inconsistent event models:</p>

                            <div class="example-box">
                                <pre><code>// ❌ Internet Explorer legacy
element.attachEvent('onclick', handler);

// ❌ Netscape legacy
element.onclick = handler;

// ✅ Modern standard
element.addEventListener('click', handler);</code></pre>
                            </div>

                            <p>Today's event model includes three phases:</p>
                            <ol>
                                <li><strong>Capturing Phase</strong>: Event travels down from root to target</li>
                                <li><strong>Target Phase</strong>: Event reaches the target element</li>
                                <li><strong>Bubbling Phase</strong>: Event bubbles up from target to root</li>
                            </ol>

                            <div class="example-box">
                                <pre><code><div id="outer">
    <div id="inner">
        <button id="btn">Click me</button>
    </div>
</div></code></pre>
                            </div>

                            <p>When you click the button:</p>
                            <ol>
                                <li>Event starts at <code>document</code> → goes down to <code>outer</code> → <code>inner</code> → <code>btn</code> (capturing)</li>
                                <li>Event triggers on <code>btn</code> (target)</li>
                                <li>Event bubbles up from <code>btn</code> → <code>inner</code> → <code>outer</code> → <code>document</code> (bubbling)</li>
                            </ol>

                            <p>Default behavior is bubbling. Capture phase requires explicit setting:</p>

                            <div class="example-box">
                                <pre><code>const outer = document.getElementById('outer');
const inner = document.getElementById('inner');
const btn = document.getElementById('btn');

// Bubbling (default)
outer.addEventListener('click', () => console.log('Outer'));
inner.addEventListener('click', () => console.log('Inner'));
btn.addEventListener('click', () => console.log('Button'));

// Clicking button logs: Button → Inner → Outer

// Capture phase
outer.addEventListener('click', () => console.log('Outer'), true);
inner.addEventListener('click', () => console.log('Inner'), true);
btn.addEventListener('click', () => console.log('Button'), true);

// Clicking button logs: Outer → Inner → Button</code></pre>
                            </div>

                            <p><strong>Key Insight:</strong> Most event handling happens in the bubbling phase because it's more intuitive and allows for event delegation.</p>
                        </div>
                    </details>

                    <details>
                        <summary>Deep Dive: The Event Object and Event Delegation</summary>
                        <div>
                            <h4>Event Object Properties</h4>
                            <div class="example-box">
                                <pre><code>document.addEventListener('click', function(e) {
    console.log('Event type:', e.type);           // "click"
    console.log('Target element:', e.target);     // Element clicked
    console.log('Current target:', e.currentTarget); // Element with listener
    
    // Prevent default behavior
    if (e.target.tagName === 'A') {
        e.preventDefault();
        console.log('Link clicked, but navigation prevented!');
    }
    
    // Stop propagation
    if (e.target.matches('.stop-propagation')) {
        e.stopPropagation();
        console.log('Propagation stopped!');
    }
    
    // Coordinates
    console.log('Client X:', e.clientX);
    console.log('Client Y:', e.clientY);
    console.log('Page X:', e.pageX);
    console.log('Page Y:', e.pageY);
});</code></pre>
                            </div>

                            <h4>Event Delegation — The Secret Weapon</h4>
                            <p>Instead of adding listeners to every child, add one listener to the parent and use <code>e.target</code> to determine which child triggered it.</p>

                            <div class="example-box">
                                <pre><code><!-- HTML -->
<ul id="task-list">
    <li>Task 1 <button class="delete">Delete</button></li>
    <li>Task 2 <button class="delete">Delete</button></li>
    <li>Task 3 <button class="delete">Delete</button></li>
</ul></code></pre>
                            </div>

                            <div class="example-box">
                                <pre><code>// ❌ BAD: One listener per button
document.querySelectorAll('.delete').forEach(button => {
    button.addEventListener('click', () => {
        button.parentElement.remove();
    });
});

// ✅ GOOD: One listener for entire list (event delegation)
document.getElementById('task-list').addEventListener('click', function(e) {
    if (e.target.classList.contains('delete')) {
        e.target.closest('li').remove();
    }
});

// ✅ EVEN BETTER: Handle multiple types
document.getElementById('task-list').addEventListener('click', function(e) {
    if (e.target.classList.contains('delete')) {
        e.target.closest('li').remove();
    } else if (e.target.classList.contains('edit')) {
        const li = e.target.closest('li');
        const newText = prompt('Edit task:', li.textContent.replace('Delete', '').trim());
        if (newText !== null) {
            li.innerHTML = \`\${newText} <button class="delete">Delete</button>\`;
        }
    }
});</code></pre>
                            </div>

                            <p><strong>Why Event Delegation?</strong></p>
                            <ul>
                                <li>Performance: Fewer event listeners</li>
                                <li>Dynamically added elements: Auto-works with new items</li>
                                <li>Memory efficient</li>
                                <li>Centralized logic</li>
                            </ul>
                        </div>
                    </details>

                    <details>
                        <summary>Deep Dive: Common Events and Their Use Cases</summary>
                        <div>
                            <h4>1. Mouse Events</h4>
                            <div class="example-box">
                                <pre><code>element.addEventListener('click', handler);           // Single click
element.addEventListener('dblclick', handler);        // Double click
element.addEventListener('mousedown', handler);       // Mouse button pressed
element.addEventListener('mouseup', handler);         // Mouse button released
element.addEventListener('mouseover', handler);       // Mouse enters element
element.addEventListener('mouseout', handler);        // Mouse leaves element
element.addEventListener('mousemove', handler);       // Mouse moves over element

// Practical example: Drag-and-drop hint
const draggable = document.getElementById('draggable');
draggable.addEventListener('mouseenter', () => {
    draggable.style.cursor = 'grab';
});
draggable.addEventListener('mouseleave', () => {
    draggable.style.cursor = 'default';
});</code></pre>
                            </div>

                            <h4>2. Keyboard Events</h4>
                            <div class="example-box">
                                <pre><code>document.addEventListener('keydown', function(e) {
    // Escape key closes modal
    if (e.key === 'Escape') {
        closeModal();
    }
    
    // Arrow keys for navigation
    if (e.key === 'ArrowRight') {
        nextSlide();
    }
    if (e.key === 'ArrowLeft') {
        prevSlide();
    }
    
    // Ctrl+S saves
    if (e.ctrlKey && e.key === 's') {
        e.preventDefault();
        saveDocument();
    }
    
    // Prevent typing in number field
    if (e.target.type === 'number' &amp;&amp; !/[0-9\-\.]/.test(e.key)) {
        e.preventDefault();
    }
});</code></pre>
                            </div>

                            <h4>3. Form Events</h4>
                            <div class="example-box">
                                <pre><code>const form = document.getElementById('myForm');
const input = document.getElementById('input');

// Validate on blur
input.addEventListener('blur', function() {
    if (this.value === '') {
        this.classList.add('error');
    } else {
        this.classList.remove('error');
    }
});

// Live validation
input.addEventListener('input', function() {
    if (this.value.includes('@')) {
        this.classList.add('valid');
        this.classList.remove('error');
    } else {
        this.classList.remove('valid');
    }
});

// Submit validation
form.addEventListener('submit', function(e) {
    if (input.value === '') {
        e.preventDefault();
        input.classList.add('error');
        alert('Please enter a value');
    }
});

// Reset form
form.addEventListener('reset', function() {
    console.log('Form reset!');
});</code></pre>
                            </div>

                            <h4>4. Window Events</h4>
                            <div class="example-box">
                                <pre><code>window.addEventListener('load', function() {
    console.log('Page fully loaded');
});

window.addEventListener('resize', function() {
    console.log('Window resized to:', window.innerWidth, 'x', window.innerHeight);
});

window.addEventListener('scroll', function() {
    // Sticky header
    if (window.scrollY > 100) {
        document.body.classList.add('scrolled');
    } else {
        document.body.classList.remove('scrolled');
    }
});

// Detect online/offline status
window.addEventListener('online', () => {
    console.log('Online!');
});

window.addEventListener('offline', () => {
    console.log('Offline!');
});</code></pre>
                            </div>

                            <h4>5. Touch Events (Mobile)</h4>
                            <div class="example-box">
                                <pre><code>element.addEventListener('touchstart', function(e) {
    // Handle touch start
    console.log('Touch started at:', e.touches[0].clientX, e.touches[0].clientY);
});

element.addEventListener('touchmove', function(e) {
    // Handle touch movement
    e.preventDefault(); // Prevent scrolling if needed
});

element.addEventListener('touchend', function(e) {
    // Handle touch end
    console.log('Touch ended');
});</code></pre>
                            </div>
                        </div>
                    </details>

                    <details>
                        <summary>Practical Examples: Real-World Event Handling</summary>
                        <div>
                            <h4>1. Modal System with Escape Key and Click Outside</h4>
                            <div class="dom-demo">
                                <button id="open-modal" class="dom-button">Open Modal</button>
                                <div id="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1000; display: flex; align-items: center; justify-content: center;">
                                    <div style="background-color: #1a2a40; padding: 30px; border-radius: 8px; width: 80%; max-width: 500px; position: relative;">
                                        <button style="position: absolute; top: 10px; right: 10px; background: transparent; border: none; color: white; font-size: 20px; cursor: pointer;">×</button>
                                        <h2>Modal Title</h2>
                                        <p>This is a modal dialog. Press ESC or click outside to close.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>// Modal system
const openModalBtn = document.getElementById('open-modal');
const modal = document.getElementById('modal');
const closeModalBtn = modal.querySelector('button');

function openModal() {
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden'; // Prevent body scrolling
}

function closeModal() {
    modal.style.display = 'none';
    document.body.style.overflow = ''; // Restore scrolling
}

// Event listeners
openModalBtn.addEventListener('click', openModal);

closeModalBtn.addEventListener('click', closeModal);

// Close on escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' &amp;&amp; modal.style.display === 'flex') {
        closeModal();
    }
});

// Close on click outside
modal.addEventListener('click', function(e) {
    if (e.target === modal) {
        closeModal();
    }
});</code></pre>
                            </div>

                            <h4>2. Infinite Scroll with Intersection Observer</h4>
                            <div class="dom-demo" style="height: 300px; overflow-y: auto; border: 1px solid #00d1ff; border-radius: 8px; padding: 15px; background-color: #1a2a40; color: white;">
                                <div id="content" style="height: 800px; display: flex; flex-direction: column; gap: 10px;">
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 1</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 2</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 3</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 4</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 5</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 6</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 7</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 8</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 9</div>
                                    <div style="padding: 15px; background-color: #0f1e33; border-radius: 6px;">Item 10</div>
                                    <div id="loader" style="text-align: center; padding: 15px; color: #00d1ff;">Loading more...</div>
                                </div>
                            </div>

                            <div class="example-box">
                                <pre><code>// Infinite scroll
const loader = document.getElementById('loader');
const content = document.getElementById('content');

// Intersection Observer - detects when element enters viewport
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            // Load more content
            loadMoreItems();
            // Observe again after loading
            observer.observe(loader);
        }
    });
}, {
    threshold: 0.1 // Trigger when 10% of loader is visible
});

// Start observing
observer.observe(loader);

function loadMoreItems() {
    // Simulate loading
    setTimeout(() => {
        for (let i = 0; i < 5; i++) {
            const newItem = document.createElement('div');
            newItem.style.padding = '15px';
            newItem.style.backgroundColor = '#0f1e33';
            newItem.style.borderRadius = '6px';
            newItem.textContent = \`Item \${content.children.length + 1}\`;
            content.appendChild(newItem);
        }
        
        // Hide loader if all items loaded
        if (content.children.length >= 20) {
            loader.style.display = 'none';
            observer.disconnect(); // Stop observing
        }
    }, 1000);
}</code></pre>
                            </div>

                            <h4>3. Form Validation System</h4>
                            <div class="dom-demo">
                                <form id="signup-form" style="max-width: 400px; margin: 0 auto; padding: 20px; background-color: #1a2a40; border-radius: 8px; color: white;">
                                    <div style="margin-bottom: 15px;">
                                        <label for="name" style="display: block; margin-bottom: 5px;">Full Name</label>
                                        <input type="text" id="name" name="name" style="width: 100%; padding: 10px; border: 1px solid #00d1ff; border-radius: 4px; background-color: #0f1e33; color: white;">
                                        <small id="name-error" style="color: #ff6b6b; display: none; margin-top: 5px;">Please enter your full name</small>
                                    </div>
                                    
                                    <div style="margin-bottom: 15px;">
                                        <label for="email" style="display: block; margin-bottom: 5px;">Email</label>
                                        <input type="email" id="email" name="email" style="width: 100%; padding: 10px; border: 1px solid #00d1ff; border-radius: 4px; background-color: #0f1e33; color: white;">
                                        <small id="email-error" style="color: #ff6b6b; display: none; margin-top: 5px;">Please enter a valid email</small>
                                    </div>
                                    
                                    <div style="margin-bottom: 15px;">
                                        <label for="password" style="display: block; margin-bottom: 5px;">Password</label>
                                        <input type="password" id="password" name="password" style="width: 100%; padding: 10px; border: 1px solid #00d1ff; border-radius: 4px; background-color: #0f1e33; color: white;">
                                        <small id="password-error" style="color: #ff6b6b; display: none; margin-top: 5px;">Password must be at least 8 characters</small>
                                    </div>
                                    
                                    <button type="submit" style="width: 100%; padding: 12px; background-color: var(--primary-color); color: white; border: none; border-radius: 4px; font-weight: bold; cursor: pointer;">Sign Up</button>
                                </form>
                            </div>

                            <div class="example-box">
                                <pre><code>// Form validation
const form = document.getElementById('signup-form');
const nameInput = document.getElementById('name');
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const nameError = document.getElementById('name-error');
const emailError = document.getElementById('email-error');
const passwordError = document.getElementById('password-error');

// Live validation
[nameInput, emailInput, passwordInput].forEach(input => {
    input.addEventListener('blur', validateInput);
    input.addEventListener('input', clearError);
});

function validateInput(e) {
    const input = e.target;
    const errorElement = input.nextElementSibling;
    
    switch(input.id) {
        case 'name':
            if (input.value.trim() === '') {
                showError(input, errorElement, 'Please enter your full name');
                return false;
            }
            break;
        case 'email':
            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
            if (!emailRegex.test(input.value)) {
                showError(input, errorElement, 'Please enter a valid email');
                return false;
            }
            break;
        case 'password':
            if (input.value.length < 8) {
                showError(input, errorElement, 'Password must be at least 8 characters');
                return false;
            }
            break;
    }
    
    hideError(input, errorElement);
    return true;
}

function showError(input, errorElement, message) {
    input.classList.add('error');
    errorElement.textContent = message;
    errorElement.style.display = 'block';
}

function hideError(input, errorElement) {
    input.classList.remove('error');
    errorElement.style.display = 'none';
}

function clearError(e) {
    hideError(e.target, e.target.nextElementSibling);
}

// Form submission
form.addEventListener('submit', function(e) {
    e.preventDefault();
    
    const isValid = [
        validateInput({ target: nameInput }),
        validateInput({ target: emailInput }),
        validateInput({ target: passwordInput })
    ].every(result => result);
    
    if (isValid) {
        alert('Form submitted successfully!');
        // Submit via AJAX here
    }
});</code></pre>
                            </div>

                            <p><strong>Pro Tips:</strong></p>
                            <ul>
                                <li>Always use <code>addEventListener()</code> instead of inline events</li>
                                <li>Use event delegation for dynamic content</li>
                                <li>Prevent defaults when appropriate (forms, links)</li>
                                <li>Stop propagation when needed (modals, nested components)</li>
                                <li>Use <code>closest()</code> to find ancestor elements</li>
                                <li>Test with keyboard navigation and screen readers</li>
                            </ul>
                        </div>
                    </details>
                </section>

                <div class="footer-note">
                    <p><i class="bi bi-book"></i> Mastered HTML, CSS, and DOM? Next: Responsive Design, Accessibility, and Performance Optimization</p>
                    <p>© 2024 Web Fundamentals Mastery Notes | Designed for Deep Understanding</p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Utilities -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Search functionality
            const searchInput = document.getElementById('searchToc');
            const tocItems = document.querySelectorAll('.toc-item');

            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase();
                tocItems.forEach(item => {
                    const text = item.textContent.toLowerCase();
                    if (text.includes(query)) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });

            // Expand/Collapse All
            document.getElementById('expandAll').addEventListener('click', () => {
                document.querySelectorAll('details').forEach(detail => {
                    detail.setAttribute('open', '');
                });
            });

            document.getElementById('collapseAll').addEventListener('click', () => {
                document.querySelectorAll('details').forEach(detail => {
                    detail.removeAttribute('open');
                });
            });

            // Smooth TOC Navigation
            document.querySelectorAll('.toc-item').forEach(item => {
                item.addEventListener('click', () => {
                    // Remove active class from all
                    document.querySelectorAll('.toc-item').forEach(el => {
                        el.classList.remove('active');
                    });
                    // Add to clicked
                    item.classList.add('active');
                    
                    // Scroll to section
                    const targetId = item.getAttribute('data-target');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Simple syntax highlighting fallback
            function highlightCode() {
                const codeElements = document.querySelectorAll('pre code');
                codeElements.forEach(code => {
                    const text = code.textContent;
                    code.innerHTML = text
                        .replace(/(const|let|var|function|return|if|else|for|while|new|this|class|extends|super|import|export|default|true|false|null|undefined)/g, '<span class="code-keyword">$1</span>')
                        .replace(/(['"`])(.*?)\1/g, '<span class="code-string">$&</span>')
                        .replace(/\/\/.*$/gm, '<span class="code-comment">$&</span>')
                        .replace(/\b\d+(\.\d+)?\b/g, '<span class="code-number">$&</span>')
                        .replace(/(\w+)\s*\(/g, '<span class="code-method">$1</span>(')
                        .replace(/\.{3}/g, '<span class="code-operator">...</span>')
                        .replace(/(<\/?[a-zA-Z][^>]*>)/g, '<span class="code-property">$1</span>')
                        .replace(/(--[\w-]+)/g, '<span class="code-property">$1</span>');
                });
            }
            
            // Run highlight if needed
            if (!window.hljs) {
                highlightCode();
            }
        });
    </script>

    <!-- Optional: Add highlight.js for better syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/darkula.min.css">
    <script>hljs.highlightAll();</script>
</body>
</html>